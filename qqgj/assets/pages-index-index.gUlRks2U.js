import{g as e,s as t,a,b as s,o as l,c as r,w as n,d as i,e as u,t as o,f as c,r as d,F as h,n as g,i as m,h as f,S as y,j as p,k as v,l as _,m as b,p as k,q as w,u as q,I as C,v as M,x as S}from"./index-DwgDhT7T.js";const x={shortNumber:{test:e=>e.length<=5,value:500,message:"5位及以下QQ号码",category:"length"},longNumber:{test:e=>e.length>=10,value:-500,message:"10位及以上QQ号码",category:"length"},tripleNumber:{test:e=>/(\d)\1{2}/.test(e),value:500,message:"豹子号",category:"pattern"},quadNumber:{test:e=>/(\d)\1{3}/.test(e),value:1e3,message:"连号",category:"pattern"},quinNumber:{test:e=>/(\d)\1{4}/.test(e),value:1500,message:"重复数字号码",category:"pattern"}},D={number6:{test:e=>e.split("").filter((e=>"6"===e)).length>=3,value:800,message:"数字6较多",category:"lucky"},number8:{test:e=>e.split("").filter((e=>"8"===e)).length>=3,value:1200,message:"数字8较多",category:"lucky"},number520:{test:e=>e.includes("520"),value:520,message:"包含520",category:"meaning"},number1314:{test:e=>e.includes("1314"),value:1314,message:"包含1314",category:"meaning"},sequence:{test:e=>/^(?:0?12345|12345|54321|98765|56789|0?98765)$/.test(e),value:1800,message:"顺子号码",category:"pattern"},symmetric:{test:e=>/^(?:\d)(\d)\1|(\d)(\d)\2$/.test(e),value:1500,message:"对称号码",category:"pattern"},ababPattern:{test:e=>/(\d)(\d)\1\2/.test(e),value:1e3,message:"ABAB模式",category:"pattern"},aabbPattern:{test:e=>/(\d)\1(\d)\2/.test(e),value:800,message:"AABB模式",category:"pattern"}},E={avoid47:{test:e=>!e.includes("4")&&!e.includes("7"),value:800,message:"不含4和7",category:"avoid"},has47:{test:e=>e.includes("4")||e.includes("7"),value:-300,message:"包含4或7",category:"avoid"}},$={level60_100:{test:e=>e>=60&&e<=100,value:500,message:"QQ等级60-100",category:"level"},level101_200:{test:e=>e>=101&&e<=200,value:1e3,message:"QQ等级101-200",category:"level"},levelAbove200:{test:e=>e>200,value:2e3,message:"QQ等级200以上",category:"level"}},N={normalVip:{test:e=>1===e,value:200,message:"QQ会员",category:"vip"},superVip:{test:e=>2===e,value:500,message:"超级会员",category:"vip"},yellowDiamond:{test:e=>3===e,value:800,message:"黄钻",category:"vip"},redDiamond:{test:e=>4===e,value:1e3,message:"红钻",category:"vip"},greenDiamond:{test:e=>5===e,value:1200,message:"绿钻",category:"vip"}},A={tenYears:{test:e=>e>=10&&e<15,value:1e3,message:"10年以上老号",category:"age"},fifteenYears:{test:e=>e>=15&&e<20,value:2e3,message:"15年以上老号",category:"age"},twentyYears:{test:e=>e>=20,value:3e3,message:"20年以上老号",category:"age"}};const V=new class{constructor(){this.cache=new Map}evaluate(e){const{qqNumber:t,qqLevel:a,vipType:s,hasYellow:l,registerDate:r}=e,n=JSON.stringify(e);if(this.cache.has(n))return this.cache.get(n);let i=10;const u=[],o={length:0,pattern:0,lucky:0,meaning:0,avoid:0,level:0,vip:0,age:0};Object.entries(x).forEach((([e,a])=>{a.test(t)&&(i+=a.value,o[a.category]+=a.value,u.push({id:e,text:a.message+":",value:a.value>0?`+${a.value}`:a.value,highlight:!0,category:a.category}))})),Object.entries(D).forEach((([e,a])=>{a.test(t)&&(i+=a.value,o[a.category]+=a.value,u.push({id:e,text:a.message+":",value:a.value>0?`+${a.value}`:a.value,highlight:!0,category:a.category}))})),Object.entries(E).forEach((([e,a])=>{a.test(t)&&(i+=a.value,o[a.category]+=a.value,u.push({id:e,text:a.message+":",value:a.value>0?`+${a.value}`:a.value,highlight:!0,category:a.category}))}));const c=parseInt(a);if(Object.entries($).forEach((([e,t])=>{t.test(c)&&(i+=t.value,o[t.category]+=t.value,u.push({id:e,text:t.message+":",value:t.value>0?`+${t.value}`:t.value,highlight:!0,category:t.category}))})),Object.entries(N).forEach((([e,t])=>{t.test(s)&&(i+=t.value,o[t.category]+=t.value,u.push({id:e,text:t.message+":",value:t.value>0?`+${t.value}`:t.value,highlight:!0,category:t.category}))})),l){const e=2e3;i+=e,o.vip+=e,u.push({id:"yellow",text:"靓号标识加成:",value:`+${e}`,highlight:!0,category:"vip"})}const d=new Date(r).getFullYear(),h=(new Date).getFullYear()-d;if(Object.entries(A).forEach((([e,t])=>{t.test(h)&&(i+=t.value,o[t.category]+=t.value,u.push({id:e,text:t.message+":",value:t.value>0?`+${t.value}`:t.value,highlight:!0,category:t.category}))})),l&&s>2&&h>=15){const e=5e3;i+=e,o.vip+=e,u.push({id:"special",text:"高级会员+靓号+老号特殊加成:",value:`+${e}`,highlight:!0,category:"vip"})}const g={value:Math.max(10,i),valueSources:u,valueCategories:o};return this.cache.set(n,g),g}clearCache(){this.cache.clear()}},P="qq_value_history",I="qq_market_price",Q="qq_statistics",R={shortNumber:{min:500,max:2e3,desc:"5位及以下号码"},yellowNumber:{min:1e3,max:5e3,desc:"靓号"},specialNumber:{min:800,max:3e3,desc:"特殊数字组合"},oldAccount:{min:500,max:2e3,desc:"10年以上老号"},vipAccount:{min:300,max:1500,desc:"会员账号"}};const z=new class{constructor(){this.initializeStorage()}initializeStorage(){try{e(P)||t(P,[]),e(I)||t(I,R),e(Q)||t(Q,{totalEvaluations:0,averageValue:0,maxValue:0,minValue:1/0,popularFeatures:{}})}catch(a){console.error("Storage initialization failed:",a)}}addHistory(a){try{const s=e(P)||[],l={...a,timestamp:(new Date).toISOString()};return s.length>=50&&s.pop(),s.unshift(l),t(P,s),this.updateStatistics(l),!0}catch(s){return console.error("Add history failed:",s),!1}}getHistory(){try{return e(P)||[]}catch(t){return console.error("Get history failed:",t),[]}}clearHistory(){try{return t(P,[]),!0}catch(e){return console.error("Clear history failed:",e),!1}}getMarketPrice(){try{return e(I)||R}catch(t){return console.error("Get market price failed:",t),R}}updateStatistics(a){try{const s=e(Q)||{totalEvaluations:0,averageValue:0,maxValue:0,minValue:1/0,popularFeatures:{}};s.totalEvaluations++,s.maxValue=Math.max(s.maxValue,a.value),s.minValue=Math.min(s.minValue,a.value);const l=s.averageValue*(s.totalEvaluations-1)+a.value;s.averageValue=l/s.totalEvaluations,a.valueSources.forEach((e=>{s.popularFeatures[e.id]||(s.popularFeatures[e.id]={count:0,text:e.text,totalValue:0}),s.popularFeatures[e.id].count++,s.popularFeatures[e.id].totalValue+=parseInt(e.value)})),t(Q,s)}catch(s){console.error("Update statistics failed:",s)}}getStatistics(){try{return e(Q)||{totalEvaluations:0,averageValue:0,maxValue:0,minValue:0,popularFeatures:{}}}catch(t){return console.error("Get statistics failed:",t),null}}getFeatureAnalysis(){const e=this.getStatistics();if(!e)return null;return Object.entries(e.popularFeatures).map((([t,a])=>({id:t,text:a.text,count:a.count,percentage:(a.count/e.totalEvaluations*100).toFixed(1),averageValue:(a.totalValue/a.count).toFixed(0)}))).sort(((e,t)=>t.count-e.count))}},T={1:{element:"水",nature:"智慧",luck:"吉",traits:["聪明","理性","善解人意"]},2:{element:"土",nature:"稳重",luck:"吉",traits:["踏实","可靠","谦逊"]},3:{element:"木",nature:"生长",luck:"吉",traits:["创新","进取","灵活"]},4:{element:"木",nature:"稳定",luck:"凶",traits:["固执","保守","专注"]},5:{element:"土",nature:"中和",luck:"吉",traits:["圆融","适应","变通"]},6:{element:"金",nature:"权威",luck:"大吉",traits:["领导","果断","正直"]},7:{element:"金",nature:"独立",luck:"凶",traits:["个性","独特","追求完美"]},8:{element:"土",nature:"财运",luck:"大吉",traits:["务实","有野心","重视物质"]},9:{element:"火",nature:"威望",luck:"吉",traits:["热情","积极","乐观"]},0:{element:"水",nature:"包容",luck:"中性",traits:["随和","适应性强","善于沟通"]}},F={518:"我要发",168:"一路发",888:"发发发",666:"顺顺顺",520:"我爱你",1314:"一生一世",5201314:"我爱你一生一世",584:"我发死",594:"我就死",246:"易事顺",369:"三六九",789:"七八九",521:"我爱你",1314520:"一生一世我爱你"};const j=new class{constructor(){this.cache=new Map}analyze(e){if(this.cache.has(e))return this.cache.get(e);const t={fortune:this.analyzeFortune(e),personality:this.analyzePersonality(e),meaning:this.analyzeMeaning(e)};return this.cache.set(e,t),t}analyzeFortune(e){const t=e.split("");let a=0,s=new Map,l={overall:"",score:0,details:[],elements:[],suggestions:[]};t.forEach((e=>{const t=T[e];s.set(t.element,(s.get(t.element)||0)+1),a+="大吉"===t.luck?2:"吉"===t.luck?1:"凶"===t.luck?-1:0}));const r=this.analyzeElementBalance(s);l.elements=Array.from(s.entries()).map((([e,a])=>({element:e,count:a,percentage:(a/t.length*100).toFixed(1)+"%"})));const n=a+r.score;return l.score=n,l.overall=n>=5?"大吉 - 运势极佳，事业财运双丰收":n>=3?"吉 - 运势良好，诸事顺遂":n>=0?"中吉 - 运势平稳，平安无虞":n>=-3?"中凶 - 运势欠佳，需要谨慎":"凶 - 运势不佳，诸事不宜",l.details=[`数字五行分布：${this.formatElementDistribution(s)}`,`五行相生相克：${r.description}`,`吉凶数字分析：${this.analyzeLuckNumbers(t)}`],l.suggestions=this.generateSuggestions(n,s),l}analyzePersonality(e){const t=e.split("");let a=new Map,s={summary:"",details:[],strengths:[],weaknesses:[],career:[],relationships:[]};t.forEach((e=>{T[e].traits.forEach((e=>{a.set(e,(a.get(e)||0)+1)}))}));const l=Array.from(a.entries()).sort(((e,t)=>t[1]-e[1])).slice(0,3).map((([e])=>e));return s.summary=`号码主人性格${l.join("、")}`,s.strengths=this.analyzeStrengths(a),s.weaknesses=this.analyzeWeaknesses(a),s.career=this.analyzeCareerSuggestions(a),s.relationships=this.analyzeRelationships(a),s.details=[`性格特点：${this.formatPersonalityTraits(a)}`,`行为模式：${this.analyzePatterns(a)}`,`思维方式：${this.analyzeThinkingStyle(a)}`],s}analyzeMeaning(e){let t=[];Object.entries(F).forEach((([a,s])=>{e.includes(a)&&t.push({combination:a,meaning:s})}));const a=this.analyzeRepeatingDigits(e);a.length>0&&t.push(...a);const s=this.analyzeSequences(e);return s.length>0&&t.push(...s),t}formatElementDistribution(e){return Array.from(e.entries()).map((([e,t])=>`${e}(${t})`)).join("、")}analyzeElementBalance(e){const t={score:0,description:""},a=Array.from(e.entries());return a.length>=4?(t.score+=2,t.description="五行分布均衡，运势稳定"):a.length>=3?(t.score+=1,t.description="五行分布较为均衡"):(t.score-=1,t.description="五行分布欠佳，需要调节"),t}analyzeLuckNumbers(e){return`吉数${e.filter((e=>"吉"===T[e].luck||"大吉"===T[e].luck)).length}个，凶数${e.filter((e=>"凶"===T[e].luck)).length}个`}generateSuggestions(e,t){const a=[];return e<0&&(a.push("建议在号码使用时搭配吉利挂件或饰品"),a.push("可以考虑在适当时机更换更有利的号码")),t.size<3&&a.push("可以通过其他号码或数字物品来补充缺失的五行元素"),a}analyzeStrengths(e){const t=[];return e.forEach(((e,a)=>{e>=2&&t.push({trait:a,description:this.getStrengthDescription(a)})})),t}analyzeWeaknesses(e){const t=[];return new Set(Object.values(T).flatMap((e=>e.traits))).forEach((a=>{e.has(a)||t.push({trait:a,description:this.getWeaknessDescription(a)})})),t.slice(0,3)}analyzeCareerSuggestions(e){const t=[];return e.forEach(((e,a)=>{e>=2&&t.push(this.getCareerSuggestion(a))})),t}analyzeRelationships(e){const t=[];return Array.from(e.entries()).sort(((e,t)=>t[1]-e[1])).slice(0,2).map((([e])=>e)).forEach((e=>{t.push(this.getRelationshipAnalysis(e))})),t}formatPersonalityTraits(e){return Array.from(e.entries()).sort(((e,t)=>t[1]-e[1])).map((([e,t])=>`${e}(${t}次)`)).join("、")}analyzePatterns(e){const t=[],a=Array.from(e.entries()).sort(((e,t)=>t[1]-e[1])).slice(0,2).map((([e])=>e));return a.includes("理性")&&t.push("做事深思熟虑"),a.includes("积极")&&t.push("行动力强"),a.includes("谨慎")&&t.push("为人稳重"),t.join("，")}analyzeThinkingStyle(e){const t=[];return e.has("理性")&&t.push("逻辑思维强"),e.has("创新")&&t.push("思维灵活"),e.has("踏实")&&t.push("脚踏实地"),t.join("，")||"思维方式较为中庸"}analyzeRepeatingDigits(e){const t=[],a=new Map;return e.split("").forEach((e=>{a.set(e,(a.get(e)||0)+1)})),a.forEach(((e,a)=>{e>=3&&t.push({combination:a.repeat(e),meaning:`数字${a}重复${e}次，暗示${this.getRepeatMeaning(a,e)}`})})),t}analyzeSequences(e){const t=[];return[{pattern:/123/,meaning:"代表事业顺遂"},{pattern:/456/,meaning:"代表工作顺心"},{pattern:/789/,meaning:"代表前途光明"},{pattern:/987/,meaning:"代表步步高升"}].forEach((({pattern:a,meaning:s})=>{a.test(e)&&t.push({combination:a.source,meaning:s})})),t}getStrengthDescription(e){return{"理性":"善于分析问题，决策准确","踏实":"做事认真负责，值得信赖","创新":"思维活跃，富有创造力","领导":"具有领导才能，善于统筹","果断":"决策果断，执行力强","热情":"乐观开朗，富有感染力"}[e]||`具有${e}的特质`}getWeaknessDescription(e){return{"固执":"需要提高灵活性","保守":"可以多尝试新事物","完美":"要学会适当放松","独特":"需要增强团队协作"}[e]||`缺乏${e}的特质`}getCareerSuggestion(e){return{"理性":"适合从事科研、数据分析、金融等工作","创新":"适合从事设计、研发、创意等工作","领导":"适合从事管理、创业、咨询等工作","踏实":"适合从事技术、质检、财务等工作","热情":"适合从事销售、教育、服务等工作"}[e]||`适合发挥${e}特长的工作`}getRelationshipAnalysis(e){return{"理性":"在感情中理性有余，需要增加感性表达","热情":"在人际交往中受欢迎，容易建立良好关系","踏实":"是值得信赖的伙伴，能够维持长久关系","创新":"善于给关系带来新鲜感，但需要注意稳定性"}[e]||`在关系中会表现出${e}的特质`}getRepeatMeaning(e,t){return{6:"代表顺遂、和谐",8:"代表发展、财运",9:"代表长久、持续",1:"代表领先、独特",2:"代表和谐、双赢",3:"代表成长、活力",4:"代表稳定、踏实",5:"代表变化、灵活",7:"代表幸运、独特",0:"代表圆满、包容"}[e]||"数字能量的积累"}},O=(e,t)=>{const a=e.__vccOpts||e;for(const[s,l]of t)a[s]=l;return a};const Y=O({components:{HistoryAndStats:O({name:"HistoryAndStats",props:{isDarkMode:{type:Boolean,default:!1}},data:()=>({history:[],statistics:{totalEvaluations:0,averageValue:0,maxValue:0,minValue:0},features:[],marketPrice:{}}),methods:{loadData(){this.history=z.getHistory(),this.statistics=z.getStatistics(),this.features=z.getFeatureAnalysis(),this.marketPrice=z.getMarketPrice()},clearHistory(){a({title:"确认清除",content:"确定要清除所有历史记录吗？",success:e=>{e.confirm&&(z.clearHistory(),this.loadData(),s({title:"历史记录已清除",icon:"success"}))}})},formatTime(e){const t=new Date(e);return`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")} ${String(t.getHours()).padStart(2,"0")}:${String(t.getMinutes()).padStart(2,"0")}`}},mounted(){this.loadData()}},[["render",function(e,t,a,s,_,b){const k=m,w=f,q=y,C=p;return l(),r(w,{class:g(["history-stats-container",{"dark-mode":a.isDarkMode}])},{default:n((()=>[i(w,{class:"stats-overview"},{default:n((()=>[i(w,{class:"stats-card"},{default:n((()=>[i(k,{class:"stats-title"},{default:n((()=>[u("总评估次数")])),_:1}),i(k,{class:"stats-value"},{default:n((()=>[u(o(_.statistics.totalEvaluations),1)])),_:1})])),_:1}),i(w,{class:"stats-card"},{default:n((()=>[i(k,{class:"stats-title"},{default:n((()=>[u("平均估价")])),_:1}),i(k,{class:"stats-value"},{default:n((()=>[u(o(_.statistics.averageValue.toFixed(0))+"元",1)])),_:1})])),_:1}),i(w,{class:"stats-card"},{default:n((()=>[i(k,{class:"stats-title"},{default:n((()=>[u("最高估价")])),_:1}),i(k,{class:"stats-value"},{default:n((()=>[u(o(_.statistics.maxValue)+"元",1)])),_:1})])),_:1})])),_:1}),i(w,{class:"feature-analysis"},{default:n((()=>[i(k,{class:"section-title"},{default:n((()=>[u("特征分析")])),_:1}),i(q,{"scroll-y":"",class:"feature-list"},{default:n((()=>[(l(!0),c(h,null,d(_.features,(e=>(l(),r(w,{key:e.id,class:"feature-item"},{default:n((()=>[i(w,{class:"feature-info"},{default:n((()=>[i(k,{class:"feature-name"},{default:n((()=>[u(o(e.text),1)])),_:2},1024),i(k,{class:"feature-stats"},{default:n((()=>[u(" 出现"+o(e.count)+"次 ("+o(e.percentage)+"%) ",1)])),_:2},1024)])),_:2},1024),i(w,{class:"feature-value"},{default:n((()=>[u(" 平均加分: "+o(e.averageValue),1)])),_:2},1024),i(w,{class:"progress-bar"},{default:n((()=>[i(w,{class:"progress",style:v({width:e.percentage+"%"})},null,8,["style"])])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1}),i(w,{class:"market-price"},{default:n((()=>[i(k,{class:"section-title"},{default:n((()=>[u("市场参考价格")])),_:1}),i(w,{class:"price-list"},{default:n((()=>[(l(!0),c(h,null,d(_.marketPrice,((e,t)=>(l(),r(w,{key:t,class:"price-item"},{default:n((()=>[i(k,{class:"price-desc"},{default:n((()=>[u(o(e.desc),1)])),_:2},1024),i(k,{class:"price-range"},{default:n((()=>[u(o(e.min)+"-"+o(e.max)+"元",1)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1}),i(w,{class:"history-section"},{default:n((()=>[i(w,{class:"history-header"},{default:n((()=>[i(k,{class:"section-title"},{default:n((()=>[u("历史记录")])),_:1}),i(C,{class:"clear-button",onClick:b.clearHistory},{default:n((()=>[u("清除记录")])),_:1},8,["onClick"])])),_:1}),i(q,{"scroll-y":"",class:"history-list"},{default:n((()=>[(l(!0),c(h,null,d(_.history,((e,t)=>(l(),r(w,{key:t,class:"history-item"},{default:n((()=>[i(w,{class:"history-main"},{default:n((()=>[i(k,{class:"history-number"},{default:n((()=>[u("QQ: "+o(e.qqNumber),1)])),_:2},1024),i(k,{class:"history-value"},{default:n((()=>[u(o(e.value)+"元",1)])),_:2},1024)])),_:2},1024),i(w,{class:"history-details"},{default:n((()=>[i(k,{class:"history-time"},{default:n((()=>[u(o(b.formatTime(e.timestamp)),1)])),_:2},1024),i(k,{class:"history-features"},{default:n((()=>[u(o(e.valueSources.map((e=>e.text)).join(" | ")),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1})])),_:1},8,["class"])}],["__scopeId","data-v-029586ee"]]),ValueChart:O({name:"ValueChart",props:{categories:{type:Object,required:!0},isDarkMode:{type:Boolean,default:!1}},data:()=>({categoryNames:{length:"号码长度",pattern:"号码特征",lucky:"吉利数字",meaning:"特殊含义",avoid:"避讳规则",level:"等级加成",vip:"会员特权",age:"号码年限"},categoryColors:{length:"#1890ff",pattern:"#52c41a",lucky:"#faad14",meaning:"#722ed1",avoid:"#ff4d4f",level:"#13c2c2",vip:"#eb2f96",age:"#fa8c16"}}),methods:{getCategoryName(e){return this.categoryNames[e]||e},getCategoryColor(e){return this.categoryColors[e]||"#999"},getCategoryClass:e=>`bar-${e}`,getPercentage(e){const t=Object.values(this.categories).reduce(((e,t)=>e+Math.abs(t)),0);return 0===t?0:Math.round(Math.abs(e)/t*100)},getCompositionWidth(e){const t=Object.values(this.categories).reduce(((e,t)=>e+Math.abs(t)),0);return 0===t?0:Math.abs(e)/t*100},drawRadarChart(){const e=_("radarChart",this),t=.8*Math.min(150,150);this.drawRadarBackground(e,150,150,t),this.drawRadarData(e,150,150,t),e.draw()},drawRadarBackground(e,t,a,s){const l=Object.keys(this.categories),r=2*Math.PI/l.length;for(let n=.2;n<=1;n+=.2)e.beginPath(),l.forEach(((l,i)=>{const u=i*r-Math.PI/2,o=t+Math.cos(u)*s*n,c=a+Math.sin(u)*s*n;0===i?e.moveTo(o,c):e.lineTo(o,c)})),e.closePath(),e.setStrokeStyle(this.isDarkMode?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)"),e.stroke();l.forEach(((l,n)=>{const i=n*r-Math.PI/2;e.beginPath(),e.moveTo(t,a),e.lineTo(t+Math.cos(i)*s,a+Math.sin(i)*s),e.setStrokeStyle(this.isDarkMode?"rgba(255,255,255,0.2)":"rgba(0,0,0,0.2)"),e.stroke()}))},drawRadarData(e,t,a,s){const l=Object.keys(this.categories),r=2*Math.PI/l.length,n=Math.max(...Object.values(this.categories));e.beginPath(),l.forEach(((l,i)=>{const u=this.categories[l],o=0===n?0:u/n,c=i*r-Math.PI/2,d=t+Math.cos(c)*s*o,h=a+Math.sin(c)*s*o;0===i?e.moveTo(d,h):e.lineTo(d,h)})),e.closePath(),e.setFillStyle("rgba(76, 175, 80, 0.2)"),e.fill(),e.setStrokeStyle("#4CAF50"),e.stroke(),l.forEach(((l,i)=>{const u=this.categories[l],o=0===n?0:u/n,c=i*r-Math.PI/2,d=t+Math.cos(c)*s*o,h=a+Math.sin(c)*s*o;e.beginPath(),e.arc(d,h,4,0,2*Math.PI),e.setFillStyle("#4CAF50"),e.fill()}))}},mounted(){this.$nextTick((()=>{this.drawRadarChart()}))},watch:{categories:{handler(){this.$nextTick((()=>{this.drawRadarChart()}))},deep:!0},isDarkMode(){this.$nextTick((()=>{this.drawRadarChart()}))}}},[["render",function(e,t,a,s,y,p){const _=b,w=f,q=m;return l(),r(w,{class:g(["chart-container",{"dark-mode":a.isDarkMode}])},{default:n((()=>[i(w,{class:"radar-chart"},{default:n((()=>[i(_,{"canvas-id":"radarChart",class:"radar-canvas"})])),_:1}),i(w,{class:"category-stats"},{default:n((()=>[(l(!0),c(h,null,d(a.categories,((e,t)=>(l(),r(w,{key:t,class:"category-bar"},{default:n((()=>[i(w,{class:"category-info"},{default:n((()=>[i(q,{class:"category-name"},{default:n((()=>[u(o(p.getCategoryName(t)),1)])),_:2},1024),i(q,{class:"category-value"},{default:n((()=>[u(o(e)+"分",1)])),_:2},1024)])),_:2},1024),i(w,{class:"bar-container"},{default:n((()=>[i(w,{class:g(["bar",p.getCategoryClass(t)]),style:v({width:p.getPercentage(e)+"%"})},null,8,["style","class"])])),_:2},1024)])),_:2},1024)))),128))])),_:1}),i(w,{class:"value-composition"},{default:n((()=>[i(w,{class:"composition-title"},{default:n((()=>[u("价值构成分析")])),_:1}),i(w,{class:"composition-chart"},{default:n((()=>[(l(!0),c(h,null,d(a.categories,((e,t)=>(l(),r(w,{key:t,class:"composition-item",style:v({width:p.getCompositionWidth(e)+"%",backgroundColor:p.getCategoryColor(t)})},{default:n((()=>[p.getCompositionWidth(e)>10?(l(),r(q,{key:0,class:"composition-label"},{default:n((()=>[u(o(p.getCategoryName(t)),1)])),_:2},1024)):k("",!0)])),_:2},1032,["style"])))),128))])),_:1}),i(w,{class:"composition-legend"},{default:n((()=>[(l(!0),c(h,null,d(a.categories,((e,t)=>(l(),r(w,{key:t,class:"legend-item"},{default:n((()=>[i(w,{class:"legend-color",style:v({backgroundColor:p.getCategoryColor(t)})},null,8,["style"]),i(q,{class:"legend-name"},{default:n((()=>[u(o(p.getCategoryName(t)),1)])),_:2},1024),i(q,{class:"legend-value"},{default:n((()=>[u(o(p.getPercentage(e))+"%",1)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1})])),_:1},8,["class"])}],["__scopeId","data-v-6e083eb0"]])},data:()=>({tabs:["评估","历史记录"],currentTab:0,qqNumberInput:"",qqNumber:"",qqLevel:"",vipTypes:["普通用户","会员","超级会员","黄钻","红钻","绿钻"],vipIndex:0,hasYellow:!1,registerDate:"2000-01-01",today:(new Date).toISOString().split("T")[0],showResult:!1,showError:!1,showForm:!0,isEvaluating:!1,isDarkMode:!1,valueResult:10,errorMessage:"",valueSources:[],marketPrice:0,averagePrice:0,valueCategories:{length:0,pattern:0,lucky:0,meaning:0,avoid:0,level:0,vip:0,age:0},numberAnalysis:{fortune:{overall:"",score:0,details:[],elements:[],suggestions:[]},personality:{summary:"",details:[],strengths:[],weaknesses:[],career:[],relationships:[]},meaning:[]}}),computed:{baseScore(){return Math.floor(.4*this.valueResult)},featureScore(){return Math.floor(.6*this.valueResult)},marketPriceRange(){const e=z.getMarketPrice();let t=0;return this.qqNumber.length<=5&&(t=(e.shortNumber.min+e.shortNumber.max)/2),this.hasYellow&&(t+=(e.yellowNumber.min+e.yellowNumber.max)/2),Math.floor(t)},averagePriceValue(){const e=z.getStatistics();return Math.floor(e.averageValue||0)}},watch:{valueResult:{handler(e){this.marketPrice=this.marketPriceRange,this.averagePrice=this.averagePriceValue},immediate:!0}},methods:{switchTab(e){this.currentTab=e},handleQQNumberInput(e){const t=e.target.value;/^\d+$/.test(t)&&t.length<=12?this.qqNumberInput=t:e.target.value=this.qqNumberInput},handleQQLevelInput(e){const t=e.target.value;/^\d+$/.test(t)&&t.length<=4?this.qqLevel=t:e.target.value=this.qqLevel},handleVipChange(e){this.vipIndex=e.detail.value},handleYellowChange(e){this.hasYellow=e.detail.value},handleDateChange(e){this.registerDate=e.detail.value},handleThemeChange(e){this.isDarkMode=e.detail.value,t("isDarkMode",this.isDarkMode)},async handleShare(){try{const e=`我的QQ号：${this.qqNumber}\n估价结果：${this.valueResult}元\n\n`+this.valueSources.map((e=>`${e.text} ${e.value}`)).join("\n");await w({data:e}),s({title:"复制成功",icon:"success"})}catch(e){s({title:"复制失败",icon:"none"})}},async evaluate(){try{if(this.qqNumberInput.length<5)throw new Error("输入的 QQ 号码不正确");this.isEvaluating=!0,this.showError=!1,this.qqNumber=this.qqNumberInput;const e=V.evaluate({qqNumber:this.qqNumber,qqLevel:this.qqLevel,vipType:this.vipIndex,hasYellow:this.hasYellow,registerDate:this.registerDate});this.numberAnalysis=j.analyze(this.qqNumber),this.valueResult=e.value,this.valueSources=e.valueSources,this.valueCategories=e.valueCategories,z.addHistory({qqNumber:this.qqNumber,value:this.valueResult,valueSources:this.valueSources,valueCategories:this.valueCategories,numberAnalysis:this.numberAnalysis}),this.showResult=!1,await this.$nextTick(),this.showResult=!0}catch(e){this.showError=!0,this.errorMessage=e.message,this.showResult=!1}finally{this.isEvaluating=!1}},clearQQNumber(){this.qqNumberInput="",this.showResult=!1,this.showError=!1}},onLoad(){const t=e("isDarkMode");""!==t&&(this.isDarkMode=t)}},[["render",function(e,t,a,s,y,v){const _=f,b=C,w=m,x=M,D=S,E=p,$=q("ValueChart"),N=q("HistoryAndStats");return l(),r(_,{class:g(["container",{"dark-mode":y.isDarkMode}])},{default:n((()=>[i(_,{class:"tabs"},{default:n((()=>[(l(!0),c(h,null,d(y.tabs,((e,t)=>(l(),r(_,{key:t,class:g(["tab",{active:y.currentTab===t}]),onClick:e=>v.switchTab(t)},{default:n((()=>[u(o(e),1)])),_:2},1032,["class","onClick"])))),128))])),_:1}),0===y.currentTab?(l(),r(_,{key:0,class:g(["form-container",{"slide-in":y.showForm}])},{default:n((()=>[i(_,{class:"input-group"},{default:n((()=>[i(_,{class:"label"},{default:n((()=>[u("号码：")])),_:1}),i(_,{class:"input-wrapper"},{default:n((()=>[i(b,{type:"number",modelValue:y.qqNumberInput,"onUpdate:modelValue":t[0]||(t[0]=e=>y.qqNumberInput=e),maxlength:"12",onInput:v.handleQQNumberInput,placeholder:"请输入 QQ 号码"},null,8,["modelValue","onInput"]),y.qqNumberInput?(l(),r(w,{key:0,class:"clear-btn",onClick:v.clearQQNumber},{default:n((()=>[u("×")])),_:1},8,["onClick"])):k("",!0)])),_:1})])),_:1}),i(_,{class:"qq-level-group"},{default:n((()=>[i(_,{class:"label"},{default:n((()=>[u("等级：")])),_:1}),i(_,{class:"input-wrapper"},{default:n((()=>[i(b,{type:"number",modelValue:y.qqLevel,"onUpdate:modelValue":t[1]||(t[1]=e=>y.qqLevel=e),maxlength:"4",onInput:v.handleQQLevelInput,placeholder:"请输入 QQ 等级"},null,8,["modelValue","onInput"])])),_:1})])),_:1}),i(_,{class:"member-row"},{default:n((()=>[i(_,{class:"vip-group"},{default:n((()=>[i(_,{class:"label"},{default:n((()=>[u("会员：")])),_:1}),i(x,{onChange:v.handleVipChange,value:y.vipIndex,range:y.vipTypes,style:{width:"100%"}},{default:n((()=>[i(_,{class:"picker"},{default:n((()=>[u(o(y.vipTypes[y.vipIndex]),1)])),_:1})])),_:1},8,["onChange","value","range"])])),_:1}),i(_,{class:"yellow-group"},{default:n((()=>[i(_,{class:"label"},{default:n((()=>[u("靓号：")])),_:1}),i(D,{onChange:v.handleYellowChange,checked:y.hasYellow},null,8,["onChange","checked"])])),_:1})])),_:1}),i(_,{class:"register-group"},{default:n((()=>[i(_,{class:"label"},{default:n((()=>[u("注册时间：")])),_:1}),i(x,{mode:"date",value:y.registerDate,end:y.today,onChange:v.handleDateChange,class:"picker-wrapper"},{default:n((()=>[i(_,{class:"picker"},{default:n((()=>[u(o(y.registerDate),1)])),_:1})])),_:1},8,["value","end","onChange"])])),_:1}),i(_,{class:"button-group"},{default:n((()=>[i(E,{onClick:v.evaluate,disabled:y.isEvaluating,class:g({"button-loading":y.isEvaluating})},{default:n((()=>[y.isEvaluating?(l(),r(_,{key:1,class:"loading-dots"},{default:n((()=>[i(w,null,{default:n((()=>[u(".")])),_:1}),i(w,null,{default:n((()=>[u(".")])),_:1}),i(w,null,{default:n((()=>[u(".")])),_:1})])),_:1})):(l(),r(w,{key:0,style:{"font-weight":"800"}},{default:n((()=>[u("评估价值")])),_:1}))])),_:1},8,["onClick","disabled","class"])])),_:1}),y.showResult?(l(),r(_,{key:0,class:g(["result-group",{"fade-in":y.showResult}])},{default:n((()=>[i(_,{class:"result-header"},{default:n((()=>[i(w,null,{default:n((()=>[u("QQ号码价值分析")])),_:1}),i(E,{class:"share-button",onClick:v.handleShare},{default:n((()=>[i(w,{class:"share-icon"},{default:n((()=>[u("复制分析结果")])),_:1})])),_:1},8,["onClick"])])),_:1}),i(_,{class:"result-categories"},{default:n((()=>[i(_,{class:"category-item"},{default:n((()=>[i(w,{class:"category-label"},{default:n((()=>[u("基础分")])),_:1}),i(w,{class:"category-value"},{default:n((()=>[u(o(v.baseScore)+"分",1)])),_:1})])),_:1}),i(_,{class:"category-item"},{default:n((()=>[i(w,{class:"category-label"},{default:n((()=>[u("特征加成")])),_:1}),i(w,{class:"category-value"},{default:n((()=>[u("+"+o(v.featureScore)+"分",1)])),_:1})])),_:1}),i(_,{class:"category-item"},{default:n((()=>[i(w,{class:"category-label"},{default:n((()=>[u("市场参考")])),_:1}),i(w,{class:"category-value"},{default:n((()=>[u(o(y.marketPrice)+"元",1)])),_:1})])),_:1}),i(_,{class:"category-item"},{default:n((()=>[i(w,{class:"category-label"},{default:n((()=>[u("同类均价")])),_:1}),i(w,{class:"category-value"},{default:n((()=>[u(o(y.averagePrice)+"元",1)])),_:1})])),_:1})])),_:1}),i($,{categories:y.valueCategories,isDarkMode:y.isDarkMode},null,8,["categories","isDarkMode"]),i(_,{class:"analysis-section fortune-analysis"},{default:n((()=>[i(_,{class:"section-title"},{default:n((()=>[u("吉凶测算分析")])),_:1}),i(_,{class:"fortune-overview"},{default:n((()=>[i(_,{class:"fortune-score"},{default:n((()=>[u("综合评分："+o(y.numberAnalysis.fortune.score),1)])),_:1}),i(_,{class:"fortune-result"},{default:n((()=>[u(o(y.numberAnalysis.fortune.overall),1)])),_:1})])),_:1}),i(_,{class:"fortune-details"},{default:n((()=>[(l(!0),c(h,null,d(y.numberAnalysis.fortune.details,((e,t)=>(l(),r(_,{key:t,class:"detail-item"},{default:n((()=>[u(o(e),1)])),_:2},1024)))),128))])),_:1}),i(_,{class:"element-distribution"},{default:n((()=>[i(_,{class:"detail-item"},{default:n((()=>[u("五行属性分布：")])),_:1}),i(_,{class:"element-grid"},{default:n((()=>[(l(!0),c(h,null,d(y.numberAnalysis.fortune.elements,(e=>(l(),r(_,{key:e.element,class:"element-item"},{default:n((()=>[i(w,{class:"element-name"},{default:n((()=>[u(o(e.element),1)])),_:2},1024),i(w,{class:"element-count"},{default:n((()=>[u(o(e.count)+"个",1)])),_:2},1024),i(w,{class:"element-percent"},{default:n((()=>[u(o(e.percentage),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1}),y.numberAnalysis.fortune.suggestions.length>0?(l(),r(_,{key:0,class:"fortune-suggestions"},{default:n((()=>[i(_,{class:"suggestions-title"},{default:n((()=>[u("改运建议")])),_:1}),(l(!0),c(h,null,d(y.numberAnalysis.fortune.suggestions,((e,t)=>(l(),r(_,{key:t,class:"suggestion-item"},{default:n((()=>[u(o(e),1)])),_:2},1024)))),128))])),_:1})):k("",!0)])),_:1}),i(_,{class:"analysis-section personality-analysis"},{default:n((()=>[i(_,{class:"section-title"},{default:n((()=>[u("号码主人性格分析")])),_:1}),i(_,{class:"fortune-overview"},{default:n((()=>[u(o(y.numberAnalysis.personality.summary),1)])),_:1}),i(_,{class:"personality-details"},{default:n((()=>[(l(!0),c(h,null,d(y.numberAnalysis.personality.details,((e,t)=>(l(),r(_,{key:t,class:"detail-item"},{default:n((()=>[u(o(e),1)])),_:2},1024)))),128))])),_:1}),i(_,{class:"traits-analysis"},{default:n((()=>[i(_,{class:"traits-section"},{default:n((()=>[i(_,{class:"traits-title"},{default:n((()=>[u("性格优势")])),_:1}),(l(!0),c(h,null,d(y.numberAnalysis.personality.strengths,(e=>(l(),r(_,{key:e.trait,class:"trait-item"},{default:n((()=>[i(w,{class:"trait-name"},{default:n((()=>[u(o(e.trait),1)])),_:2},1024),i(w,{class:"trait-desc"},{default:n((()=>[u(o(e.description),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1}),i(_,{class:"traits-section"},{default:n((()=>[i(_,{class:"traits-title"},{default:n((()=>[u("性格短板")])),_:1}),(l(!0),c(h,null,d(y.numberAnalysis.personality.weaknesses,(e=>(l(),r(_,{key:e.trait,class:"trait-item"},{default:n((()=>[i(w,{class:"trait-name"},{default:n((()=>[u(o(e.trait),1)])),_:2},1024),i(w,{class:"trait-desc"},{default:n((()=>[u(o(e.description),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1}),i(_,{class:"career-analysis"},{default:n((()=>[i(_,{class:"career-title"},{default:n((()=>[u("职业建议")])),_:1}),(l(!0),c(h,null,d(y.numberAnalysis.personality.career,((e,t)=>(l(),r(_,{key:t,class:"career-item"},{default:n((()=>[u(o(e),1)])),_:2},1024)))),128))])),_:1}),i(_,{class:"relationship-analysis"},{default:n((()=>[i(_,{class:"relationship-title"},{default:n((()=>[u("人际关系分析")])),_:1}),(l(!0),c(h,null,d(y.numberAnalysis.personality.relationships,((e,t)=>(l(),r(_,{key:t,class:"relationship-item"},{default:n((()=>[u(o(e),1)])),_:2},1024)))),128))])),_:1})])),_:1}),i(_,{class:"analysis-section meaning-analysis"},{default:n((()=>[i(_,{class:"section-title"},{default:n((()=>[u("数字寓意解析")])),_:1}),(l(!0),c(h,null,d(y.numberAnalysis.meaning,((e,t)=>(l(),r(_,{key:t,class:"meaning-item"},{default:n((()=>[i(w,{class:"combination"},{default:n((()=>[u(o(e.combination),1)])),_:2},1024),i(w,{class:""},{default:n((()=>[u(" - ")])),_:1}),i(w,{class:"meaning-desc"},{default:n((()=>[u(o(e.meaning),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1}),i(_,{class:"result-items"},{default:n((()=>[(l(!0),c(h,null,d(y.valueSources,(e=>(l(),r(_,{key:e.id,class:"result-item"},{default:n((()=>[i(w,null,{default:n((()=>[u(o(e.text),1),e.highlight?(l(),r(w,{key:0,class:"highlight"},{default:n((()=>[u(o(e.value),1)])),_:2},1024)):k("",!0)])),_:2},1024)])),_:2},1024)))),128))])),_:1}),i(_,{class:g(["final-value",{pulse:y.showResult}])},{default:n((()=>[i(w,null,{default:n((()=>[u("最终估值")])),_:1}),i(w,{class:"value"},{default:n((()=>[u(o(y.valueResult)+"元",1)])),_:1})])),_:1},8,["class"])])),_:1},8,["class"])):k("",!0),y.showError?(l(),r(_,{key:1,class:g(["error-group",{shake:y.showError}])},{default:n((()=>[i(w,null,{default:n((()=>[u(o(y.errorMessage),1)])),_:1})])),_:1},8,["class"])):k("",!0)])),_:1},8,["class"])):k("",!0),1===y.currentTab?(l(),r(_,{key:1,class:"stats-container"},{default:n((()=>[i(N,{isDarkMode:y.isDarkMode},null,8,["isDarkMode"])])),_:1})):k("",!0),i(_,{class:"theme-switch"},{default:n((()=>[i(D,{onChange:v.handleThemeChange,checked:y.isDarkMode},null,8,["onChange","checked"]),i(w,null,{default:n((()=>[u("暗黑模式")])),_:1})])),_:1})])),_:1},8,["class"])}],["__scopeId","data-v-a363eba0"]]);export{Y as default};
