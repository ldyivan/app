import{g as e,s as t,o as a,c as s,w as l,a as i,r,F as n,i as o,n as c,b as u,t as d,d as h,e as m,f as g,h as f,I as p,j as v,k as y,l as q,m as _,p as b,q as k,u as C,v as w,x as S,S as x,y as I,z as D,A as Q,B as F,C as T,D as N}from"./index-B79K-wuQ.js";const $={fiveDigits:{test:e=>5===e.length,value:2e3,message:"5位QQ号码",category:"length"},sixDigits:{test:e=>6===e.length,value:1500,message:"6位QQ号码",category:"length"},sevenDigits:{test:e=>7===e.length,value:800,message:"7位QQ号码",category:"length"},eightDigits:{test:e=>8===e.length,value:300,message:"8位QQ号码",category:"length"},nineDigits:{test:e=>9===e.length,value:100,message:"9位QQ号码",category:"length"},tenDigits:{test:e=>10===e.length,value:20,message:"10位QQ号码",category:"length"},elevenDigits:{test:e=>11===e.length,value:5,message:"11位QQ号码",category:"length"},twelveDigits:{test:e=>12===e.length,value:-10,message:"12位QQ号码",category:"length"},tripleNumber:{test:e=>/(\d)\1{2}/.test(e),value:500,message:"豹子号",category:"pattern"},quadNumber:{test:e=>/(\d)\1{3}/.test(e),value:1e3,message:"连号",category:"pattern"},quinNumber:{test:e=>/(\d)\1{4}/.test(e),value:1500,message:"重复数字号码",category:"pattern"}},E={number6:{test:e=>e.split("").filter((e=>"6"===e)).length>=3,value:800,message:"数字6较多",category:"lucky"},number8:{test:e=>e.split("").filter((e=>"8"===e)).length>=3,value:1200,message:"数字8较多",category:"lucky"},number520:{test:e=>e.includes("520"),value:520,message:"包含520",category:"meaning"},number1314:{test:e=>e.includes("1314"),value:1314,message:"包含1314",category:"meaning"},sequence:{test:e=>/^(?:0?12345|12345|54321|98765|56789|0?98765)$/.test(e),value:1800,message:"顺子号码",category:"pattern"},symmetric:{test:e=>/^(?:\d)(\d)\1|(\d)(\d)\2$/.test(e),value:1500,message:"对称号码",category:"pattern"},ababPattern:{test:e=>/(\d)(\d)\1\2/.test(e),value:1e3,message:"ABAB模式",category:"pattern"},aabbPattern:{test:e=>/(\d)\1(\d)\2/.test(e),value:800,message:"AABB模式",category:"pattern"}},M={avoid47:{test:e=>!e.includes("4")&&!e.includes("7"),value:800,message:"不含4和7",category:"avoid"},has47:{test:e=>e.includes("4")||e.includes("7"),value:-300,message:"包含4或7",category:"avoid"}},P={level60_100:{test:e=>e>=60&&e<=100,value:500,message:"QQ等级60-100",category:"level"},level101_200:{test:e=>e>=101&&e<=200,value:1e3,message:"QQ等级101-200",category:"level"},levelAbove200:{test:e=>e>200,value:2e3,message:"QQ等级200以上",category:"level"}},A={normalVip:{test:e=>1===e,value:200,message:"QQ会员",category:"vip"},superVip:{test:e=>2===e,value:500,message:"超级会员",category:"vip"},yellowDiamond:{test:e=>3===e,value:800,message:"黄钻",category:"vip"},redDiamond:{test:e=>4===e,value:1e3,message:"红钻",category:"vip"},greenDiamond:{test:e=>5===e,value:1200,message:"绿钻",category:"vip"}},V={tenYears:{test:e=>e>=10&&e<15,value:1e3,message:"10年以上老号",category:"age"},fifteenYears:{test:e=>e>=15&&e<20,value:2e3,message:"15年以上老号",category:"age"},twentyYears:{test:e=>e>=20,value:3e3,message:"20年以上老号",category:"age"}};const R=new class{constructor(){this.cache=new Map}evaluate(e){const{qqNumber:t,qqLevel:a,vipType:s,hasYellow:l,registerDate:i}=e,r=JSON.stringify(e);if(this.cache.has(r))return this.cache.get(r);let n=10;const o=[],c={length:0,pattern:0,lucky:0,meaning:0,avoid:0,level:0,vip:0,age:0};Object.entries($).forEach((([e,a])=>{a.test(t)&&(n+=a.value,c[a.category]+=a.value,o.push({id:e,text:a.message+":",value:a.value>0?`+${a.value}`:a.value,highlight:!0,category:a.category}))})),Object.entries(E).forEach((([e,a])=>{a.test(t)&&(n+=a.value,c[a.category]+=a.value,o.push({id:e,text:a.message+":",value:a.value>0?`+${a.value}`:a.value,highlight:!0,category:a.category}))})),Object.entries(M).forEach((([e,a])=>{a.test(t)&&(n+=a.value,c[a.category]+=a.value,o.push({id:e,text:a.message+":",value:a.value>0?`+${a.value}`:a.value,highlight:!0,category:a.category}))}));const u=parseInt(a);if(Object.entries(P).forEach((([e,t])=>{t.test(u)&&(n+=t.value,c[t.category]+=t.value,o.push({id:e,text:t.message+":",value:t.value>0?`+${t.value}`:t.value,highlight:!0,category:t.category}))})),Object.entries(A).forEach((([e,t])=>{t.test(s)&&(n+=t.value,c[t.category]+=t.value,o.push({id:e,text:t.message+":",value:t.value>0?`+${t.value}`:t.value,highlight:!0,category:t.category}))})),l){const e=2e3;n+=e,c.vip+=e,o.push({id:"yellow",text:"靓号标识加成:",value:`+${e}`,highlight:!0,category:"vip"})}const d=new Date(i).getFullYear(),h=(new Date).getFullYear()-d;if(Object.entries(V).forEach((([e,t])=>{t.test(h)&&(n+=t.value,c[t.category]+=t.value,o.push({id:e,text:t.message+":",value:t.value>0?`+${t.value}`:t.value,highlight:!0,category:t.category}))})),l&&s>2&&h>=15){const e=5e3;n+=e,c.vip+=e,o.push({id:"special",text:"高级会员+靓号+老号特殊加成:",value:`+${e}`,highlight:!0,category:"vip"})}const m={value:Math.max(10,n),valueSources:o,valueCategories:c};return this.cache.set(r,m),m}clearCache(){this.cache.clear()}},z="qq_value_history",L="qq_market_price",j="qq_statistics",Y={shortNumber:{min:500,max:2e3,desc:"5位及以下号码"},yellowNumber:{min:1e3,max:5e3,desc:"靓号"},specialNumber:{min:800,max:3e3,desc:"特殊数字组合"},oldAccount:{min:500,max:2e3,desc:"10年以上老号"},vipAccount:{min:300,max:1500,desc:"会员账号"}};const O=new class{constructor(){this.initializeStorage()}initializeStorage(){try{e(z)||t(z,[]),e(L)||t(L,Y),e(j)||t(j,{totalEvaluations:0,averageValue:0,maxValue:0,minValue:1/0,popularFeatures:{}})}catch(a){console.error("Storage initialization failed:",a)}}addHistory(a){try{const s=e(z)||[],l={...a,timestamp:(new Date).toISOString()};return s.length>=50&&s.pop(),s.unshift(l),t(z,s),this.updateStatistics(l),!0}catch(s){return console.error("Add history failed:",s),!1}}getHistory(){try{return e(z)||[]}catch(t){return console.error("Get history failed:",t),[]}}clearHistory(){try{return t(z,[]),!0}catch(e){return console.error("Clear history failed:",e),!1}}getMarketPrice(){try{return e(L)||Y}catch(t){return console.error("Get market price failed:",t),Y}}updateStatistics(a){try{const s=e(j)||{totalEvaluations:0,averageValue:0,maxValue:0,minValue:1/0,popularFeatures:{}};s.totalEvaluations++,s.maxValue=Math.max(s.maxValue,a.value),s.minValue=Math.min(s.minValue,a.value);const l=s.averageValue*(s.totalEvaluations-1)+a.value;s.averageValue=l/s.totalEvaluations,a.valueSources.forEach((e=>{s.popularFeatures[e.id]||(s.popularFeatures[e.id]={count:0,text:e.text,totalValue:0}),s.popularFeatures[e.id].count++,s.popularFeatures[e.id].totalValue+=parseInt(e.value)})),t(j,s)}catch(s){console.error("Update statistics failed:",s)}}getStatistics(){try{return e(j)||{totalEvaluations:0,averageValue:0,maxValue:0,minValue:0,popularFeatures:{}}}catch(t){return console.error("Get statistics failed:",t),null}}getFeatureAnalysis(){const e=this.getStatistics();if(!e)return null;return Object.entries(e.popularFeatures).map((([t,a])=>({id:t,text:a.text,count:a.count,percentage:(a.count/e.totalEvaluations*100).toFixed(1),averageValue:(a.totalValue/a.count).toFixed(0)}))).sort(((e,t)=>t.count-e.count))}},B={1:{element:"水",nature:"智慧",luck:"吉",traits:["聪明","理性","善解人意"]},2:{element:"土",nature:"稳重",luck:"吉",traits:["踏实","可靠","谦逊"]},3:{element:"木",nature:"生长",luck:"吉",traits:["创新","进取","灵活"]},4:{element:"木",nature:"稳定",luck:"凶",traits:["固执","保守","专注"]},5:{element:"土",nature:"中和",luck:"吉",traits:["圆融","适应","变通"]},6:{element:"金",nature:"权威",luck:"大吉",traits:["领导","果断","正直"]},7:{element:"金",nature:"独立",luck:"凶",traits:["个性","独特","追求完美"]},8:{element:"土",nature:"财运",luck:"大吉",traits:["务实","有野心","重视物质"]},9:{element:"火",nature:"威望",luck:"吉",traits:["热情","积极","乐观"]},0:{element:"水",nature:"包容",luck:"中性",traits:["随和","适应性强","善于沟通"]}},W={518:"我要发",168:"一路发",888:"发发发",666:"顺顺顺",520:"我爱你",1314:"一生一世",5201314:"我爱你一生一世",584:"我发死",594:"我就死",246:"易事顺",369:"三六九",789:"七八九",521:"我爱你",1314520:"一生一世我爱你"};const H=new class{constructor(){this.cache=new Map}analyze(e){if(this.cache.has(e))return this.cache.get(e);const t={fortune:this.analyzeFortune(e),personality:this.analyzePersonality(e),meaning:this.analyzeMeaning(e)};return this.cache.set(e,t),t}analyzeFortune(e){const t=e.split("");let a=0,s=new Map,l={overall:"",score:0,details:[],elements:[],suggestions:[]};t.forEach((e=>{const t=B[e];s.set(t.element,(s.get(t.element)||0)+1),a+="大吉"===t.luck?2:"吉"===t.luck?1:"凶"===t.luck?-1:0}));const i=this.analyzeElementBalance(s);l.elements=Array.from(s.entries()).map((([e,a])=>({element:e,count:a,percentage:(a/t.length*100).toFixed(1)+"%"})));const r=a+i.score;return l.score=r,l.overall=r>=5?"大吉 - 运势极佳，事业财运双丰收":r>=3?"吉 - 运势良好，诸事顺遂":r>=0?"中吉 - 运势平稳，平安无虞":r>=-3?"中凶 - 运势欠佳，需要谨慎":"凶 - 运势不佳，诸事不宜",l.details=[`数字五行分布：${this.formatElementDistribution(s)}`,`五行相生相克：${i.description}`,`吉凶数字分析：${this.analyzeLuckNumbers(t)}`],l.suggestions=this.generateSuggestions(r,s),l}analyzePersonality(e){const t=e.split("");let a=new Map,s={summary:"",details:[],strengths:[],weaknesses:[],career:[],relationships:[]};t.forEach((e=>{B[e].traits.forEach((e=>{a.set(e,(a.get(e)||0)+1)}))}));const l=Array.from(a.entries()).sort(((e,t)=>t[1]-e[1])).slice(0,3).map((([e])=>e));return s.summary=`号码主人性格${l.join("、")}`,s.strengths=this.analyzeStrengths(a),s.weaknesses=this.analyzeWeaknesses(a),s.career=this.analyzeCareerSuggestions(a),s.relationships=this.analyzeRelationships(a),s.details=[`性格特点：${this.formatPersonalityTraits(a)}`,`行为模式：${this.analyzePatterns(a)}`,`思维方式：${this.analyzeThinkingStyle(a)}`],s}analyzeMeaning(e){let t=[];Object.entries(W).forEach((([a,s])=>{e.includes(a)&&t.push({combination:a,meaning:s})}));const a=this.analyzeRepeatingDigits(e);a.length>0&&t.push(...a);const s=this.analyzeSequences(e);return s.length>0&&t.push(...s),t}formatElementDistribution(e){return Array.from(e.entries()).map((([e,t])=>`${e}(${t})`)).join("、")}analyzeElementBalance(e){const t={score:0,description:""},a=Array.from(e.entries());return a.length>=4?(t.score+=2,t.description="五行分布均衡，运势稳定"):a.length>=3?(t.score+=1,t.description="五行分布较为均衡"):(t.score-=1,t.description="五行分布欠佳，需要调节"),t}analyzeLuckNumbers(e){return`吉数${e.filter((e=>"吉"===B[e].luck||"大吉"===B[e].luck)).length}个，凶数${e.filter((e=>"凶"===B[e].luck)).length}个`}generateSuggestions(e,t){const a=[];return e<0&&(a.push("建议在号码使用时搭配吉利挂件或饰品"),a.push("可以考虑在适当时机更换更有利的号码")),t.size<3&&a.push("可以通过其他号码或数字物品来补充缺失的五行元素"),a}analyzeStrengths(e){const t=[];return e.forEach(((e,a)=>{e>=2&&t.push({trait:a,description:this.getStrengthDescription(a)})})),t}analyzeWeaknesses(e){const t=[];return new Set(Object.values(B).flatMap((e=>e.traits))).forEach((a=>{e.has(a)||t.push({trait:a,description:this.getWeaknessDescription(a)})})),t.slice(0,3)}analyzeCareerSuggestions(e){const t=[];return e.forEach(((e,a)=>{e>=2&&t.push(this.getCareerSuggestion(a))})),t}analyzeRelationships(e){const t=[];return Array.from(e.entries()).sort(((e,t)=>t[1]-e[1])).slice(0,2).map((([e])=>e)).forEach((e=>{t.push(this.getRelationshipAnalysis(e))})),t}formatPersonalityTraits(e){return Array.from(e.entries()).sort(((e,t)=>t[1]-e[1])).map((([e,t])=>`${e}(${t}次)`)).join("、")}analyzePatterns(e){const t=[],a=Array.from(e.entries()).sort(((e,t)=>t[1]-e[1])).slice(0,2).map((([e])=>e));return a.includes("理性")&&t.push("做事深思熟虑"),a.includes("积极")&&t.push("行动力强"),a.includes("谨慎")&&t.push("为人稳重"),t.join("，")}analyzeThinkingStyle(e){const t=[];return e.has("理性")&&t.push("逻辑思维强"),e.has("创新")&&t.push("思维灵活"),e.has("踏实")&&t.push("脚踏实地"),t.join("，")||"思维方式较为中庸"}analyzeRepeatingDigits(e){const t=[],a=new Map;return e.split("").forEach((e=>{a.set(e,(a.get(e)||0)+1)})),a.forEach(((e,a)=>{e>=3&&t.push({combination:a.repeat(e),meaning:`数字${a}重复${e}次，暗示${this.getRepeatMeaning(a,e)}`})})),t}analyzeSequences(e){const t=[];return[{pattern:/123/,meaning:"代表事业顺遂"},{pattern:/456/,meaning:"代表工作顺心"},{pattern:/789/,meaning:"代表前途光明"},{pattern:/987/,meaning:"代表步步高升"}].forEach((({pattern:a,meaning:s})=>{a.test(e)&&t.push({combination:a.source,meaning:s})})),t}getStrengthDescription(e){return{"理性":"善于分析问题，决策准确","踏实":"做事认真负责，值得信赖","创新":"思维活跃，富有创造力","领导":"具有领导才能，善于统筹","果断":"决策果断，执行力强","热情":"乐观开朗，富有感染力"}[e]||`具有${e}的特质`}getWeaknessDescription(e){return{"固执":"需要提高灵活性","保守":"可以多尝试新事物","完美":"要学会适当放松","独特":"需要增强团队协作"}[e]||`缺乏${e}的特质`}getCareerSuggestion(e){return{"理性":"适合从事科研、数据分析、金融等工作","创新":"适合从事设计、研发、创意等工作","领导":"适合从事管理、创业、咨询等工作","踏实":"适合从事技术、质检、财务等工作","热情":"适合从事销售、教育、服务等工作"}[e]||`适合发挥${e}特长的工作`}getRelationshipAnalysis(e){return{"理性":"在感情中理性有余，需要增加感性表达","热情":"在人际交往中受欢迎，容易建立良好关系","踏实":"是值得信赖的伙伴，能够维持长久关系","创新":"善于给关系带来新鲜感，但需要注意稳定性"}[e]||`在关系中会表现出${e}的特质`}getRepeatMeaning(e,t){return{6:"代表顺遂、和谐",8:"代表发展、财运",9:"代表长久、持续",1:"代表领先、独特",2:"代表和谐、双赢",3:"代表成长、活力",4:"代表稳定、踏实",5:"代表变化、灵活",7:"代表幸运、独特",0:"代表圆满、包容"}[e]||"数字能量的积累"}},G=(e,t)=>{const a=e.__vccOpts||e;for(const[s,l]of t)a[s]=l;return a};const U=G({components:{TabBar:G({name:"TabBar",props:{tabs:{type:Array,required:!0},currentTab:{type:Number,required:!0}},methods:{switchTab(e){this.$emit("tab-change",e)}}},[["render",function(e,t,h,m,g,f){const p=o;return a(),s(p,{class:"tabs"},{default:l((()=>[(a(!0),i(n,null,r(h.tabs,((e,t)=>(a(),s(p,{key:t,class:c(["tab",{active:h.currentTab===t}]),onClick:e=>f.switchTab(t)},{default:l((()=>[u(d(e),1)])),_:2},1032,["class","onClick"])))),128))])),_:1})}],["__scopeId","data-v-53b02051"]]),ThemeSwitch:G({name:"ThemeSwitch",props:{isDarkMode:{type:Boolean,required:!0}},methods:{handleThemeChange(e){this.$emit("theme-change",e.detail.value)}}},[["render",function(e,t,i,r,n,d){const f=m,p=g,v=o;return a(),s(v,{class:c(["theme-switch",{dark:i.isDarkMode}])},{default:l((()=>[h(f,{onChange:d.handleThemeChange,checked:i.isDarkMode},null,8,["onChange","checked"]),h(p,null,{default:l((()=>[u("暗黑模式")])),_:1})])),_:1},8,["class"])}],["__scopeId","data-v-c06e100f"]]),QQForm:G({name:"QQForm",data:()=>({qqNumberInput:"",qqLevel:"",vipTypes:["普通用户","QQ会员","超级会员","黄钻","红钻","绿钻","蓝钻","粉钻","紫钻"],vipIndex:0,hasYellow:!1,registerDate:"2008-08-08",today:(new Date).toISOString().split("T")[0],showForm:!0,isEvaluating:!1,showError:!1,errorMessage:""}),methods:{handleQQNumberInput(e){this.$emit("qq-change",this.qqNumberInput)},handleQQLevelInput(e){const t=e.target.value;/^\d+$/.test(t)&&t.length<=4?this.qqLevel=t:e.target.value=this.qqLevel},handleVipChange(e){this.vipIndex=e.detail.value},handleYellowChange(e){this.hasYellow=e.detail.value},handleDateChange(e){this.registerDate=e.detail.value},clearQQNumber(){this.qqNumberInput="",this.$emit("clear")},evaluate(){if(this.qqNumberInput.length<5)return this.showError=!0,void(this.errorMessage="输入的 QQ 号码不正确");this.isEvaluating=!0,this.showError=!1,this.$emit("evaluate",{qqNumber:this.qqNumberInput,qqLevel:this.qqLevel,vipType:this.vipIndex,hasYellow:this.hasYellow,registerDate:this.registerDate})},setQQLevel(e){this.qqLevel=e},setVipInfo(e,t){this.hasYellow=e,void 0!==t&&(this.vipIndex=t)},resetEvaluating(){this.isEvaluating=!1}}},[["render",function(e,t,i,r,n,q){const _=o,b=p,k=g,C=v,w=m,S=y;return a(),s(_,{class:c(["form-container",{"slide-in":n.showForm}])},{default:l((()=>[h(_,{class:"input-group"},{default:l((()=>[h(_,{class:"label"},{default:l((()=>[u("号码：")])),_:1}),h(_,{class:"input-wrapper"},{default:l((()=>[h(b,{type:"number",modelValue:n.qqNumberInput,"onUpdate:modelValue":t[0]||(t[0]=e=>n.qqNumberInput=e),maxlength:"12",onInput:q.handleQQNumberInput,placeholder:"请输入 QQ 号码"},null,8,["modelValue","onInput"]),n.qqNumberInput?(a(),s(k,{key:0,class:"clear-btn",onClick:q.clearQQNumber},{default:l((()=>[u("×")])),_:1},8,["onClick"])):f("",!0)])),_:1})])),_:1}),h(_,{class:"qq-level-group"},{default:l((()=>[h(_,{class:"label"},{default:l((()=>[u("等级：")])),_:1}),h(_,{class:"input-wrapper"},{default:l((()=>[h(b,{type:"number",modelValue:n.qqLevel,"onUpdate:modelValue":t[1]||(t[1]=e=>n.qqLevel=e),maxlength:"4",onInput:q.handleQQLevelInput,placeholder:"请输入 QQ 等级"},null,8,["modelValue","onInput"])])),_:1})])),_:1}),h(_,{class:"member-row"},{default:l((()=>[h(_,{class:"vip-group"},{default:l((()=>[h(_,{class:"label"},{default:l((()=>[u("会员：")])),_:1}),h(C,{onChange:q.handleVipChange,value:n.vipIndex,range:n.vipTypes,style:{width:"100%"}},{default:l((()=>[h(_,{class:"picker"},{default:l((()=>[u(d(n.vipTypes[n.vipIndex]),1)])),_:1})])),_:1},8,["onChange","value","range"])])),_:1}),h(_,{class:"yellow-group"},{default:l((()=>[h(_,{class:"label"},{default:l((()=>[u("靓号：")])),_:1}),h(w,{onChange:q.handleYellowChange,checked:n.hasYellow},null,8,["onChange","checked"])])),_:1})])),_:1}),h(_,{class:"register-group"},{default:l((()=>[h(_,{class:"label"},{default:l((()=>[u("注册时间：")])),_:1}),h(C,{mode:"date",value:n.registerDate,end:n.today,onChange:q.handleDateChange,class:"picker-wrapper"},{default:l((()=>[h(_,{class:"picker"},{default:l((()=>[u(d(n.registerDate),1)])),_:1})])),_:1},8,["value","end","onChange"])])),_:1}),h(_,{class:"button-group"},{default:l((()=>[h(S,{onClick:q.evaluate,disabled:n.isEvaluating,class:c([{loading:n.isEvaluating},"evaluate-btn"])},{default:l((()=>[h(_,{class:"btn-content"},{default:l((()=>[n.isEvaluating?(a(),s(_,{key:1,class:"loading-wrapper"},{default:l((()=>[h(_,{class:"loading-dots"},{default:l((()=>[h(_,{class:"dot"}),h(_,{class:"dot"}),h(_,{class:"dot"})])),_:1}),h(k,null,{default:l((()=>[u("评估中")])),_:1})])),_:1})):(a(),s(k,{key:0,class:"btn-text"},{default:l((()=>[u("评估价值")])),_:1}))])),_:1})])),_:1},8,["onClick","disabled","class"])])),_:1}),n.showError?(a(),s(_,{key:0,class:c(["error-group",{shake:n.showError}])},{default:l((()=>[h(k,null,{default:l((()=>[u(d(n.errorMessage),1)])),_:1})])),_:1},8,["class"])):f("",!0)])),_:1},8,["class"])}],["__scopeId","data-v-23ddaef6"]]),QQProfile:G({name:"QQProfile",props:{qqNumber:{type:String,required:!0},qqInfo:{type:Object,required:!0},qqDetail:{type:Object,required:!0},qqPrivileges:{type:Object,required:!0},hasYellow:{type:Boolean,default:!1}},methods:{showServiceInfo(e){this.$emit("show-service",e)},formatValue:e=>["",null,void 0,"仅自己可见","未设置","用户设置仅自己可见","用户设置仅自己可见或未设置"].includes(e)?"未知":e,formatAge(e){const t=this.formatValue(e);return"未知"===t?t:`${t}岁`},formatLocation(e,t,a){const s=[this.formatValue(e),this.formatValue(t),this.formatValue(a)].filter((e=>"未知"!==e));return s.length>0?s.join(" | "):"未知"}}},[["render",function(e,t,c,m,p,v){const y=q,_=g,b=o;return c.qqInfo.avatar||c.qqDetail.name?(a(),s(b,{key:0,class:"qq-profile"},{default:l((()=>[h(b,{class:"profile-header"},{default:l((()=>[h(b,{class:"avatar-section"},{default:l((()=>[h(y,{class:"qq-avatar",src:c.qqInfo.avatar,mode:"aspectFill"},null,8,["src"]),h(b,{class:"qq-basic"},{default:l((()=>[h(b,{class:"name-number"},{default:l((()=>[h(_,{class:"qq-nickname"},{default:l((()=>[u(d(v.formatValue(c.qqInfo.nickname)),1)])),_:1}),h(b,{class:"qq-number-wrapper"},{default:l((()=>[h(_,{class:"qq-number"},{default:l((()=>[u("("+d(c.qqNumber)+")",1)])),_:1}),c.hasYellow?(a(),s(_,{key:0,class:"yellow-badge"},{default:l((()=>[u("靓")])),_:1})):f("",!0)])),_:1})])),_:1}),c.qqPrivileges.services&&c.qqPrivileges.services.length?(a(),s(b,{key:0,class:"vip-services"},{default:l((()=>[(a(!0),i(n,null,r(c.qqPrivileges.services,((e,t)=>(a(),s(b,{key:t,class:"service-badge",onClick:t=>v.showServiceInfo(e)},{default:l((()=>[h(y,{class:"service-icon",src:e.smallIcon,mode:"aspectFit"},null,8,["src"]),h(y,{class:"level-icon",src:e.levelIcon,mode:"aspectFit"},null,8,["src"])])),_:2},1032,["onClick"])))),128))])),_:1})):f("",!0)])),_:1})])),_:1}),c.qqDetail.name?(a(),s(b,{key:0,class:"profile-details"},{default:l((()=>[v.formatValue(c.qqDetail.sign)?(a(),s(b,{key:0,class:"detail-item"},{default:l((()=>[h(_,{class:"item-label"},{default:l((()=>[u("个性签名：")])),_:1}),h(_,{class:"item-value"},{default:l((()=>[u(d(v.formatValue(c.qqDetail.sign)),1)])),_:1})])),_:1})):f("",!0),h(b,{class:"detail-row"},{default:l((()=>[v.formatValue(c.qqDetail.gender)?(a(),s(b,{key:0,class:"detail-item"},{default:l((()=>[h(_,{class:"item-label"},{default:l((()=>[u("性别：")])),_:1}),h(_,{class:"item-value"},{default:l((()=>[u(d(v.formatValue(c.qqDetail.gender)),1)])),_:1})])),_:1})):f("",!0),v.formatValue(c.qqDetail.age)?(a(),s(b,{key:1,class:"detail-item"},{default:l((()=>[h(_,{class:"item-label"},{default:l((()=>[u("年龄：")])),_:1}),h(_,{class:"item-value"},{default:l((()=>[u(d(v.formatAge(c.qqDetail.age)),1)])),_:1})])),_:1})):f("",!0),v.formatValue(c.qqDetail.level)?(a(),s(b,{key:2,class:"detail-item"},{default:l((()=>[h(_,{class:"item-label"},{default:l((()=>[u("等级：")])),_:1}),h(_,{class:"item-value"},{default:l((()=>[u(d(v.formatValue(c.qqDetail.level)),1)])),_:1})])),_:1})):f("",!0),v.formatValue(c.qqDetail.qid)?(a(),s(b,{key:3,class:"detail-item"},{default:l((()=>[h(_,{class:"item-label"},{default:l((()=>[u("QID：")])),_:1}),h(_,{class:"item-value"},{default:l((()=>[u(d(v.formatValue(c.qqDetail.qid)),1)])),_:1})])),_:1})):f("",!0),c.qqDetail.country||c.qqDetail.province||c.qqDetail.city?(a(),s(b,{key:4,class:"detail-item"},{default:l((()=>[h(_,{class:"item-label"},{default:l((()=>[u("地区：")])),_:1}),h(_,{class:"item-value"},{default:l((()=>[u(d(v.formatLocation(c.qqDetail.country,c.qqDetail.province,c.qqDetail.city)),1)])),_:1})])),_:1})):f("",!0)])),_:1})])),_:1})):f("",!0)])),_:1})])),_:1})):f("",!0)}],["__scopeId","data-v-2ddeb2da"]]),Analysis:G({name:"Analysis",components:{ValueChart:G({name:"ValueChart",props:{categories:{type:Object,required:!0},isDarkMode:{type:Boolean,default:!1}},data:()=>({categoryNames:{length:"长度",pattern:"特征",lucky:"吉数",meaning:"特殊",avoid:"避讳",level:"等级",vip:"会员",age:"年限"},categoryColors:{length:"#1890ff",pattern:"#52c41a",lucky:"#faad14",meaning:"#722ed1",avoid:"#ff4d4f",level:"#13c2c2",vip:"#eb2f96",age:"#fa8c16"}}),methods:{getCategoryName(e){return this.categoryNames[e]||e},getCategoryColor(e){return this.categoryColors[e]||"#999"},getCategoryClass:e=>`bar-${e}`,getPercentage(e){const t=Object.values(this.categories).reduce(((e,t)=>e+Math.abs(t)),0);return 0===t?0:Math.round(Math.abs(e)/t*100)},getCompositionWidth(e){const t=Object.values(this.categories).reduce(((e,t)=>e+Math.abs(t)),0);return 0===t?0:Math.abs(e)/t*100},drawRadarChart(){const e=_("radarChart",this),t=.8*Math.min(150,150);this.drawRadarBackground(e,150,150,t),this.drawRadarData(e,150,150,t),e.draw()},drawRadarBackground(e,t,a,s){const l=Object.keys(this.categories),i=2*Math.PI/l.length;for(let r=.2;r<=1;r+=.2)e.beginPath(),l.forEach(((l,n)=>{const o=n*i-Math.PI/2,c=t+Math.cos(o)*s*r,u=a+Math.sin(o)*s*r;0===n?e.moveTo(c,u):e.lineTo(c,u)})),e.closePath(),e.setStrokeStyle(this.isDarkMode?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)"),e.stroke();l.forEach(((l,r)=>{const n=r*i-Math.PI/2;e.beginPath(),e.moveTo(t,a),e.lineTo(t+Math.cos(n)*s,a+Math.sin(n)*s),e.setStrokeStyle(this.isDarkMode?"rgba(255,255,255,0.2)":"rgba(0,0,0,0.2)"),e.stroke()}))},drawRadarData(e,t,a,s){const l=Object.keys(this.categories),i=2*Math.PI/l.length,r=Math.max(...Object.values(this.categories));e.beginPath(),l.forEach(((l,n)=>{const o=this.categories[l],c=0===r?0:o/r,u=n*i-Math.PI/2,d=t+Math.cos(u)*s*c,h=a+Math.sin(u)*s*c;0===n?e.moveTo(d,h):e.lineTo(d,h)})),e.closePath(),e.setFillStyle("rgba(76, 175, 80, 0.2)"),e.fill(),e.setStrokeStyle("#4CAF50"),e.stroke(),l.forEach(((l,n)=>{const o=this.categories[l],c=0===r?0:o/r,u=n*i-Math.PI/2,d=t+Math.cos(u)*s*c,h=a+Math.sin(u)*s*c;e.beginPath(),e.arc(d,h,4,0,2*Math.PI),e.setFillStyle("#4CAF50"),e.fill()}))}},mounted(){this.$nextTick((()=>{this.drawRadarChart()}))},watch:{categories:{handler(){this.$nextTick((()=>{this.drawRadarChart()}))},deep:!0},isDarkMode(){this.$nextTick((()=>{this.drawRadarChart()}))}}},[["render",function(e,t,m,p,v,y){const q=k,_=o,C=g;return a(),s(_,{class:c(["chart-container",{"dark-mode":m.isDarkMode}])},{default:l((()=>[h(_,{class:"radar-chart"},{default:l((()=>[h(q,{"canvas-id":"radarChart",class:"radar-canvas"})])),_:1}),h(_,{class:"category-stats"},{default:l((()=>[(a(!0),i(n,null,r(m.categories,((e,t)=>(a(),s(_,{key:t,class:"category-bar"},{default:l((()=>[h(_,{class:"category-info"},{default:l((()=>[h(C,{class:"category-name"},{default:l((()=>[u(d(y.getCategoryName(t)),1)])),_:2},1024),h(C,{class:"category-value"},{default:l((()=>[u(d(e)+"分",1)])),_:2},1024)])),_:2},1024),h(_,{class:"bar-container"},{default:l((()=>[h(_,{class:c(["bar",y.getCategoryClass(t)]),style:b({width:y.getPercentage(e)+"%"})},null,8,["style","class"])])),_:2},1024)])),_:2},1024)))),128))])),_:1}),h(_,{class:"value-composition"},{default:l((()=>[h(_,{class:"composition-title"},{default:l((()=>[u("价值构成分析")])),_:1}),h(_,{class:"composition-chart"},{default:l((()=>[(a(!0),i(n,null,r(m.categories,((e,t)=>(a(),s(_,{key:t,class:"composition-item",style:b({width:y.getCompositionWidth(e)+"%",backgroundColor:y.getCategoryColor(t)})},{default:l((()=>[y.getCompositionWidth(e)>10?(a(),s(C,{key:0,class:"composition-label"},{default:l((()=>[u(d(y.getCategoryName(t)),1)])),_:2},1024)):f("",!0)])),_:2},1032,["style"])))),128))])),_:1}),h(_,{class:"composition-legend"},{default:l((()=>[(a(!0),i(n,null,r(m.categories,((e,t)=>(a(),s(_,{key:t,class:"legend-item"},{default:l((()=>[h(_,{class:"legend-color",style:b({backgroundColor:y.getCategoryColor(t)})},null,8,["style"]),h(C,{class:"legend-name"},{default:l((()=>[u(d(y.getCategoryName(t)),1)])),_:2},1024),h(C,{class:"legend-value"},{default:l((()=>[u(d(y.getPercentage(e))+"%",1)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1})])),_:1},8,["class"])}],["__scopeId","data-v-0e3c1bc6"]])},data:()=>({isFortuneExpanded:!1,isPersonalityExpanded:!1,defaultSuggestions:[{condition:"木多",suggestions:["佩戴金属饰品，如戒指、项链等","居住环境可以选择西方的房间","可以在办公桌上摆放水晶等金属饰品"]},{condition:"火多",suggestions:["佩戴黑色或蓝色的饰品","房间可以摆放鱼缸或者流水装饰","多穿深色系的衣服"]},{condition:"土多",suggestions:["佩戴绿色的玉饰或木质饰品","房间可以多摆放绿色植物","可以选择东方的房间办公或居住"]},{condition:"金多",suggestions:["佩戴红色的饰品或玛瑙","房间可以适当使用红色装饰","多穿红色系的衣服"]},{condition:"水多",suggestions:["佩戴黄色的饰品或黄水晶","房间使用黄色或棕色的装饰","可以在办公桌上摆放黄水晶"]}]}),props:{valueResult:{type:Number,required:!0},valueSources:{type:Array,required:!0},valueCategories:{type:Object,required:!0},numberAnalysis:{type:Object,required:!0,default:()=>({fortune:{score:7,overall:"大吉 - 运势极佳，事业财运双丰收",analysis:{lucky:6,unlucky:1,details:["1,3,5为吉数","4为凶数"]},elements:{distribution:[{name:"金",count:2,nature:"旺"},{name:"木",count:1,nature:"弱"},{name:"水",count:3,nature:"旺"},{name:"火",count:1,nature:"弱"},{name:"土",count:2,nature:"中"}],relationship:["金生水，水克火","木生火，火克金","土生金，金克木"],summary:"五行相生相克关系较为复杂，金水较旺，木火偏弱"}},personality:{summary:"",details:["性格特点：聪明(2分)、理性(2分)、善解人意(2分)、思维活跃(2分)、善(1分)、可爱(1分)、踏实(2分)和(1分)、沉稳(1分)、深沉(1分)、不拘小节(1分)、积极(1分)、果断(1分)、机智(1分)","行为模式：感情专一至上","思维模式：灵活变通型，思维活跃"],strengths:[{trait:"理性",description:"善于分析问题，决策准确"},{trait:"踏实",description:"做事认真负责，值得信赖"},{trait:"创新",description:"思维活跃，富有创造力"}],weaknesses:[{trait:"固执",description:"需要提高灵活性"},{trait:"保守",description:"可以多尝试新事物"},{trait:"完美",description:"要学会适当放松"}],relationships:["在感情中理性有余，需要增加感性表达","善于给关系带来新鲜感，但需要注意稳定性"],career:["适合从事顾问、数据分析、金融等工作","适合从事科研、教育、咨询等工作","适合从事管理、创业、策划等工作"]}})},marketPrice:{type:Number,required:!0},averagePrice:{type:Number,required:!0},isDarkMode:{type:Boolean,default:!1}},computed:{baseScore(){return Math.floor(.4*this.valueResult)},featureScore(){return Math.floor(.6*this.valueResult)},fortuneAnalysisText(){var e,t;const a=null==(e=this.numberAnalysis)?void 0:e.fortune;if(!a)return"";return(null==(t=a.details)?void 0:t[2])||""},elementDistribution(){var e;const t=null==(e=this.numberAnalysis)?void 0:e.fortune;if(!(null==t?void 0:t.elements))return[];const a=(t.details[0]||"").match(/([金木水火土])\((\d+)\)/g)||[],s=a.map((e=>{const[,t,s]=e.match(/([金木水火土])\((\d+)\)/),l=parseInt(s);return{name:t,count:l,percent:0,nature:this.getElementNature(t,l,a.length)}})),l=s.reduce(((e,t)=>e+t.count),0);return s.forEach((e=>{e.percent=l>0?Math.round(e.count/l*100):0})),s},elementRelationshipText(){var e,t,a;const s=null==(e=this.numberAnalysis)?void 0:e.fortune;if(!s)return"";const l=this.elementDistribution||[];let i="";const r=l.filter((e=>e.count>=3)).map((e=>e.name)),n=l.filter((e=>1===e.count)).map((e=>e.name));r.length>0&&(i+=`${r.join("、")}偏旺`),n.length>0&&(i&&(i+="，"),i+=`${n.join("、")}偏弱`);const o=((null==(t=s.elements)?void 0:t.relationship)||[]).join("；"),c=(null==(a=s.elements)?void 0:a.summary)||"";let u="";return i&&(u=i),o&&(u+=u?"。":"",u+=o),c&&(u+=u?"。":"",u+=c),u||"五行分布较为平衡"},fortuneSuggestions(){var e;const t=null==(e=this.numberAnalysis)?void 0:e.fortune;if(!t)return[];const a=this.elementDistribution||[],s=[],l=this.checkElementBalance(a);return t.score<0||t.overall.includes("凶")||!l?(a.forEach((e=>{if("旺"===e.nature){const t=this.defaultSuggestions.find((t=>t.condition===`${e.name}多`));t&&t.suggestions.forEach((e=>{s.push({text:e,icon:"✦"})}))}})),0===s.length?[{text:"建议佩戴五行平衡的饰品或摆件来改善运势",icon:"✧"},{text:"可以考虑在住所或办公室摆放有助于改运的物品",icon:"✧"}]:s):t.score>=0&&l?[{text:"五行调和，运势平稳，暂不需要改运",icon:"✓"}]:[{text:"可以适当佩戴一些有助于增强运势的饰品",icon:"✧"}]}},methods:{toggleFortune(){this.isFortuneExpanded=!this.isFortuneExpanded},togglePersonality(){this.isPersonalityExpanded=!this.isPersonalityExpanded},formatPersonalityTraits:e=>e&&Array.isArray(e)?e.map((e=>`${e.name}(${e.score}分)`)).join("、"):"",getElementNature:(e,t,a)=>0===t?"弱":t>=3?"旺":1===t?"弱":"中",checkElementBalance(e){if(!e||0===e.length)return!1;const t=e.reduce(((e,t)=>e+t.count),0)/e.length,a=.3*t;return e.every((e=>Math.abs(e.count-t)<=a))}}},[["render",function(e,t,m,p,v,y){const q=g,_=o,b=C("ValueChart");return a(),s(_,{class:c(["analysis-container",{dark:m.isDarkMode}])},{default:l((()=>[h(_,{class:"result-categories"},{default:l((()=>[h(_,{class:"category-item"},{default:l((()=>[h(q,{class:"category-label"},{default:l((()=>[u("基础分")])),_:1}),h(q,{class:"category-value"},{default:l((()=>[u(d(y.baseScore)+"分",1)])),_:1})])),_:1}),h(_,{class:"category-item"},{default:l((()=>[h(q,{class:"category-label"},{default:l((()=>[u("特征加成")])),_:1}),h(q,{class:"category-value"},{default:l((()=>[u("+"+d(y.featureScore)+"分",1)])),_:1})])),_:1}),h(_,{class:"category-item"},{default:l((()=>[h(q,{class:"category-label"},{default:l((()=>[u("市场参考")])),_:1}),h(q,{class:"category-value"},{default:l((()=>[u(d(m.marketPrice)+"元",1)])),_:1})])),_:1}),h(_,{class:"category-item"},{default:l((()=>[h(q,{class:"category-label"},{default:l((()=>[u("同类均价")])),_:1}),h(q,{class:"category-value"},{default:l((()=>[u(d(m.averagePrice)+"元",1)])),_:1})])),_:1})])),_:1}),h(b,{categories:m.valueCategories,isDarkMode:m.isDarkMode},null,8,["categories","isDarkMode"]),h(_,{class:"analysis-section fortune-analysis"},{default:l((()=>[h(_,{class:"section-title",onClick:y.toggleFortune},{default:l((()=>[u(" 吉凶测算分析 "),h(q,{class:"toggle-icon"},{default:l((()=>[u(d(v.isFortuneExpanded?"▼":"▶"),1)])),_:1})])),_:1},8,["onClick"]),h(_,{class:c(["section-content",{collapsed:!v.isFortuneExpanded}])},{default:l((()=>[h(_,{class:"fortune-overview"},{default:l((()=>[h(_,{class:"fortune-score"},{default:l((()=>[u(" 综合评分："+d(m.numberAnalysis.fortune.score)+"/10 ",1)])),_:1}),h(_,{class:"fortune-result"},{default:l((()=>[u(d(m.numberAnalysis.fortune.overall),1)])),_:1})])),_:1}),h(_,{class:"fortune-details"},{default:l((()=>[h(_,{class:"detail-text"},{default:l((()=>[u(d(y.fortuneAnalysisText),1)])),_:1}),h(_,{class:"detail-text"},{default:l((()=>[u("五行属性分布：")])),_:1}),h(_,{class:"element-grid"},{default:l((()=>[(a(!0),i(n,null,r(y.elementDistribution,((e,t)=>(a(),s(_,{key:t,class:"element-item","data-element":e.name,"data-nature":e.nature},{default:l((()=>[h(q,{class:"element-icon"},{default:l((()=>[u(d(e.name),1)])),_:2},1024),h(q,{class:"element-count"},{default:l((()=>[u(d(e.count)+"个",1)])),_:2},1024),h(q,{class:"element-percent"},{default:l((()=>[u(d(e.percent)+"%",1)])),_:2},1024),h(q,{class:"element-nature"},{default:l((()=>[u("("+d(e.nature)+")",1)])),_:2},1024)])),_:2},1032,["data-element","data-nature"])))),128))])),_:1}),h(_,{class:"detail-text"},{default:l((()=>[u(" 五行相生相克分析："+d(y.elementRelationshipText),1)])),_:1})])),_:1}),h(_,{class:"fortune-suggestions"},{default:l((()=>[h(_,{class:"suggestions-title"},{default:l((()=>[u("改运建议")])),_:1}),h(_,{class:"suggestion-list"},{default:l((()=>[(a(!0),i(n,null,r(y.fortuneSuggestions,((e,t)=>(a(),s(_,{key:t,class:"suggestion-item"},{default:l((()=>[h(q,{class:"suggestion-icon"},{default:l((()=>[u(d(e.icon),1)])),_:2},1024),h(q,{class:"suggestion-text"},{default:l((()=>[u(d(e.text),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1})])),_:1},8,["class"])])),_:1}),h(_,{class:"analysis-section personality-analysis"},{default:l((()=>[h(_,{class:"section-title",onClick:y.togglePersonality},{default:l((()=>[u(" 号码主人性格分析 "),h(q,{class:"toggle-icon"},{default:l((()=>[u(d(v.isPersonalityExpanded?"▼":"▶"),1)])),_:1})])),_:1},8,["onClick"]),h(_,{class:c(["section-content",{collapsed:!v.isPersonalityExpanded}])},{default:l((()=>[h(_,{class:"personality-overview"},{default:l((()=>[h(_,{class:"personality-summary"},{default:l((()=>[u(d(m.numberAnalysis.personality.summary),1)])),_:1})])),_:1}),h(_,{class:"detail-text"},{default:l((()=>[u(d(m.numberAnalysis.personality.details[0]),1)])),_:1}),h(_,{class:"detail-text"},{default:l((()=>[u(d(m.numberAnalysis.personality.details[1]),1)])),_:1}),h(_,{class:"detail-text"},{default:l((()=>[u(d(m.numberAnalysis.personality.details[2]),1)])),_:1}),h(_,{class:"traits-section"},{default:l((()=>[h(_,{class:"traits-title"},{default:l((()=>[u("性格优势")])),_:1}),(a(!0),i(n,null,r(m.numberAnalysis.personality.strengths,((e,t)=>(a(),s(_,{class:"trait-item",key:"strength-"+t},{default:l((()=>[h(q,{class:"trait-name"},{default:l((()=>[u(d(e.trait),1)])),_:2},1024),h(q,{class:"trait-desc"},{default:l((()=>[u(d(e.description),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1}),h(_,{class:"traits-section"},{default:l((()=>[h(_,{class:"traits-title"},{default:l((()=>[u("性格短板")])),_:1}),(a(!0),i(n,null,r(m.numberAnalysis.personality.weaknesses,((e,t)=>(a(),s(_,{class:"trait-item",key:"weakness-"+t},{default:l((()=>[h(q,{class:"trait-name"},{default:l((()=>[u(d(e.trait),1)])),_:2},1024),h(q,{class:"trait-desc"},{default:l((()=>[u(d(e.description),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1}),h(_,{class:"relationship-analysis"},{default:l((()=>[h(_,{class:"relationship-title"},{default:l((()=>[u("人际关系分析")])),_:1}),(a(!0),i(n,null,r(m.numberAnalysis.personality.relationships,((e,t)=>(a(),s(_,{class:"relationship-item",key:"relationship-"+t},{default:l((()=>[u(d(e),1)])),_:2},1024)))),128))])),_:1})])),_:1},8,["class"])])),_:1}),h(_,{class:"analysis-section meaning-analysis"},{default:l((()=>[h(_,{class:"section-title"},{default:l((()=>[u("数字寓意解析")])),_:1}),(a(!0),i(n,null,r(m.numberAnalysis.meaning,((e,t)=>(a(),s(_,{key:t,class:"meaning-item"},{default:l((()=>[h(q,{class:"combination"},{default:l((()=>[u(d(e.combination),1)])),_:2},1024),h(q,{class:""},{default:l((()=>[u(" - ")])),_:1}),h(q,{class:"meaning-desc"},{default:l((()=>[u(d(e.meaning),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1}),h(_,{class:"result-items"},{default:l((()=>[(a(!0),i(n,null,r(m.valueSources,(e=>(a(),s(_,{key:e.id,class:"result-item"},{default:l((()=>[h(q,null,{default:l((()=>[u(d(e.text),1),e.highlight?(a(),s(q,{key:0,class:"highlight"},{default:l((()=>[u(d(e.value),1)])),_:2},1024)):f("",!0)])),_:2},1024)])),_:2},1024)))),128))])),_:1}),h(_,{class:"final-value"},{default:l((()=>[h(q,null,{default:l((()=>[u("最终估值")])),_:1}),h(_,{class:"value"},{default:l((()=>[h(q,{class:"currency"},{default:l((()=>[u("¥")])),_:1}),u(d(m.valueResult),1)])),_:1})])),_:1})])),_:1},8,["class"])}],["__scopeId","data-v-33ee75e9"]]),HistoryAndStats:G({name:"HistoryAndStats",props:{isDarkMode:{type:Boolean,default:!1}},data:()=>({history:[],statistics:{totalEvaluations:0,averageValue:0,maxValue:0,minValue:0},features:[],marketPrice:{}}),methods:{loadData(){this.history=O.getHistory(),this.statistics=O.getStatistics(),this.features=O.getFeatureAnalysis(),this.marketPrice=O.getMarketPrice()},clearHistory(){w({title:"确认清除",content:"确定要清除所有历史记录吗？",success:e=>{e.confirm&&(O.clearHistory(),this.loadData(),S({title:"历史记录已清除",icon:"success"}))}})},formatTime(e){const t=new Date(e);return`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")} ${String(t.getHours()).padStart(2,"0")}:${String(t.getMinutes()).padStart(2,"0")}`}},mounted(){this.loadData()}},[["render",function(e,t,m,f,p,v){const q=g,_=o,k=x,C=y;return a(),s(_,{class:c(["history-stats-container",{"dark-mode":m.isDarkMode}])},{default:l((()=>[h(_,{class:"stats-overview"},{default:l((()=>[h(_,{class:"stats-card"},{default:l((()=>[h(q,{class:"stats-title"},{default:l((()=>[u("总评估次数")])),_:1}),h(q,{class:"stats-value"},{default:l((()=>[u(d(p.statistics.totalEvaluations),1)])),_:1})])),_:1}),h(_,{class:"stats-card"},{default:l((()=>[h(q,{class:"stats-title"},{default:l((()=>[u("平均估价")])),_:1}),h(q,{class:"stats-value"},{default:l((()=>[u(d(p.statistics.averageValue.toFixed(0))+"元",1)])),_:1})])),_:1}),h(_,{class:"stats-card"},{default:l((()=>[h(q,{class:"stats-title"},{default:l((()=>[u("最高估价")])),_:1}),h(q,{class:"stats-value"},{default:l((()=>[u(d(p.statistics.maxValue)+"元",1)])),_:1})])),_:1})])),_:1}),h(_,{class:"feature-analysis"},{default:l((()=>[h(q,{class:"section-title"},{default:l((()=>[u("特征分析")])),_:1}),h(k,{"scroll-y":"",class:"feature-list"},{default:l((()=>[(a(!0),i(n,null,r(p.features,(e=>(a(),s(_,{key:e.id,class:"feature-item"},{default:l((()=>[h(_,{class:"feature-info"},{default:l((()=>[h(q,{class:"feature-name"},{default:l((()=>[u(d(e.text),1)])),_:2},1024),h(q,{class:"feature-stats"},{default:l((()=>[u(" 出现"+d(e.count)+"次 ("+d(e.percentage)+"%) ",1)])),_:2},1024)])),_:2},1024),h(_,{class:"feature-value"},{default:l((()=>[u(" 平均加分: "+d(e.averageValue),1)])),_:2},1024),h(_,{class:"progress-bar"},{default:l((()=>[h(_,{class:"progress",style:b({width:e.percentage+"%"})},null,8,["style"])])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1}),h(_,{class:"market-price"},{default:l((()=>[h(q,{class:"section-title"},{default:l((()=>[u("市场参考价格")])),_:1}),h(_,{class:"price-list"},{default:l((()=>[(a(!0),i(n,null,r(p.marketPrice,((e,t)=>(a(),s(_,{key:t,class:"price-item"},{default:l((()=>[h(q,{class:"price-desc"},{default:l((()=>[u(d(e.desc),1)])),_:2},1024),h(q,{class:"price-range"},{default:l((()=>[u(d(e.min)+"-"+d(e.max)+"元",1)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1}),h(_,{class:"history-section"},{default:l((()=>[h(_,{class:"history-header"},{default:l((()=>[h(q,{class:"section-title"},{default:l((()=>[u("历史记录")])),_:1}),h(C,{class:"clear-button",onClick:v.clearHistory},{default:l((()=>[u("清除记录")])),_:1},8,["onClick"])])),_:1}),h(k,{"scroll-y":"",class:"history-list"},{default:l((()=>[(a(!0),i(n,null,r(p.history,((e,t)=>(a(),s(_,{key:t,class:"history-item"},{default:l((()=>[h(_,{class:"history-main"},{default:l((()=>[h(q,{class:"history-number"},{default:l((()=>[u("QQ: "+d(e.qqNumber),1)])),_:2},1024),h(q,{class:"history-value"},{default:l((()=>[u(d(e.value)+"元",1)])),_:2},1024)])),_:2},1024),h(_,{class:"history-details"},{default:l((()=>[h(q,{class:"history-time"},{default:l((()=>[u(d(v.formatTime(e.timestamp)),1)])),_:2},1024),h(q,{class:"history-features"},{default:l((()=>[u(d(e.valueSources.map((e=>e.text)).join(" | ")),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1})])),_:1},8,["class"])}],["__scopeId","data-v-430bda56"]]),ServiceDetailPopup:G({name:"ServiceDetailPopup",props:{show:{type:Boolean,default:!1},service:{type:Object,default:()=>({})}},methods:{handleClose(){this.$emit("close")}}},[["render",function(e,t,i,r,n,c){const m=q,p=g,v=o;return i.show?(a(),s(v,{key:0,class:"popup-mask",onClick:c.handleClose},{default:l((()=>[h(v,{class:"popup-content",onClick:t[0]||(t[0]=I((()=>{}),["stop"]))},{default:l((()=>[h(v,{class:"popup-header"},{default:l((()=>[h(v,{class:"service-title"},{default:l((()=>[h(m,{class:"service-icon",src:i.service.smallIcon,mode:"aspectFit"},null,8,["src"]),h(p,null,{default:l((()=>[u(d(i.service.name),1)])),_:1})])),_:1}),h(p,{class:"close-btn",onClick:c.handleClose},{default:l((()=>[u("×")])),_:1},8,["onClick"])])),_:1}),h(v,{class:"service-info"},{default:l((()=>[h(v,{class:"info-item"},{default:l((()=>[h(p,{class:"item-label"},{default:l((()=>[u("特权等级")])),_:1}),h(v,{class:"level-info"},{default:l((()=>[h(m,{class:"level-icon",src:i.service.levelIcon,mode:"aspectFit"},null,8,["src"]),h(p,null,{default:l((()=>[u("Level "+d(i.service.level),1)])),_:1})])),_:1})])),_:1}),h(v,{class:"info-item"},{default:l((()=>[h(p,{class:"item-label"},{default:l((()=>[u("特权说明")])),_:1}),h(p,{class:"privilege-desc"},{default:l((()=>[u(d(i.service.desc),1)])),_:1})])),_:1}),i.service.ExpireTime?(a(),s(v,{key:0,class:"info-item"},{default:l((()=>[h(p,{class:"item-label"},{default:l((()=>[u("有效期至")])),_:1}),h(p,{class:"expire-time"},{default:l((()=>[u(d(i.service.ExpireTime),1)])),_:1})])),_:1})):f("",!0)])),_:1})])),_:1})])),_:1},8,["onClick"])):f("",!0)}],["__scopeId","data-v-c84522fb"]]),Loading:G({name:"Loading",props:{show:{type:Boolean,default:!1},text:{type:String,default:"正在评估中..."}}},[["render",function(e,t,i,r,n,c){const m=o,p=g;return i.show?(a(),s(m,{key:0,class:"loading-container"},{default:l((()=>[h(m,{class:"loading-content"},{default:l((()=>[h(m,{class:"loading-spinner"}),h(p,{class:"loading-text"},{default:l((()=>[u(d(i.text),1)])),_:1})])),_:1})])),_:1})):f("",!0)}],["__scopeId","data-v-3195c555"]]),ShareImage:G({props:{show:{type:Boolean,default:!1},qqNumber:{type:String,default:""},qqInfo:{type:Object,default:()=>({})},valueResult:{type:Number,default:0},valueSources:{type:Array,default:()=>[]},isDarkMode:{type:Boolean,default:!1}},data:()=>({canvasWidth:300,canvasHeight:500,ctx:null}),computed:{isYellowNumber(){return this.qqInfo.yellowNumber||this.qqInfo.isYellow||this.qqInfo.yellow}},watch:{show(e){e&&this.$nextTick((()=>{this.initCanvas()}))}},methods:{async initCanvas(){try{const t=_("shareCanvas",this);this.ctx=t;const a=this.isDarkMode;t.clearRect(0,0,this.canvasWidth,this.canvasHeight),t.setFillStyle(a?"#1f1f1f":"#FFFFFF"),t.fillRect(0,0,this.canvasWidth,this.canvasHeight);const s=t.createLinearGradient(0,0,0,90);s.addColorStop(0,a?"#52c41a":"#4CAF50"),s.addColorStop(1,a?"#49ad17":"#45a049"),t.setFillStyle(s),t.fillRect(0,0,this.canvasWidth,90);try{const e=this.qqInfo.avatar||`https://q1.qlogo.cn/g?b=qq&nk=${this.qqNumber}&s=100`,s=await new Promise(((t,a)=>{D({url:e,success:e=>{200===e.statusCode?t(e.tempFilePath):a(new Error("下载头像失败"))},fail:a})}));t.save(),t.beginPath(),t.arc(50,45,32,0,2*Math.PI),t.setFillStyle(a?"#2a2a2a":"#ffffff"),t.fill(),t.restore(),t.save(),t.beginPath(),t.arc(50,45,30,0,2*Math.PI),t.clip(),t.drawImage(s,20,15,60,60),t.restore()}catch(e){console.error("头像绘制失败:",e)}t.setFillStyle("#FFFFFF"),t.setFontSize(16);const l=`QQ号：${this.qqNumber}`;if(t.fillText(l,100,40),this.isYellowNumber){const e=100+t.measureText(l).width+10,a=25,s=30,i=20,r=10;t.save(),t.beginPath(),t.moveTo(e+r,a),t.lineTo(e+s-r,a),t.arcTo(e+s,a,e+s,a+r,r),t.lineTo(e+s,a+i-r),t.arcTo(e+s,a+i,e+s-r,a+i,r),t.lineTo(e+r,a+i),t.arcTo(e,a+i,e,a+i-r,r),t.lineTo(e,a+r),t.arcTo(e,a,e+r,a,r);const n=t.createLinearGradient(e,a,e+s,a+i);n.addColorStop(0,"#FFD700"),n.addColorStop(1,"#FFA500"),t.setFillStyle(n),t.fill(),t.restore(),t.setFillStyle("#FFFFFF"),t.setFontSize(16),t.setTextAlign("center"),t.fillText("靓",e+s/2,a+15),t.setTextAlign("left")}t.setFillStyle("#FFFFFF"),t.setFontSize(16),t.fillText(`昵称：${this.qqInfo.nickname||"未知"}`,100,65),t.setTextAlign("center"),t.setFillStyle(a?"#52c41a":"#4CAF50"),t.setFontSize(40),t.fillText(`¥ ${this.valueResult}`,this.canvasWidth/2,200),t.setFontSize(16),t.setFillStyle(a?"#999999":"#666666"),t.fillText("预估价值",this.canvasWidth/2,150),t.setTextAlign("left"),t.setFontSize(14);let i=250;this.valueSources.forEach(((e,s)=>{s<5&&(t.setFillStyle(a?"#ffffff":"#333333"),t.fillText(`${e.text} ${e.value}`,20,i),i+=25)})),t.setTextAlign("center"),t.setFontSize(12),t.setFillStyle(a?"#666666":"#999999"),t.fillText("Generated by QQ号码价值评估工具",this.canvasWidth/2,this.canvasHeight-20),t.draw(!1,(()=>{console.log("Canvas绘制完成")}))}catch(e){console.error("Canvas初始化失败:",e)}},handleClose(){this.$emit("close")},async handleSave(){try{await new Promise((e=>setTimeout(e,200)));await new Promise(((e,t)=>{Q({canvasId:"shareCanvas",fileType:"png",quality:1,success:t=>{const a=document.createElement("a");a.href=t.tempFilePath,a.download=`QQ号码价值评估_${this.qqNumber}.png`,document.body.appendChild(a),a.click(),document.body.removeChild(a),e(t.tempFilePath)},fail:t},this)}));S({title:"图片已开始下载",icon:"success"}),this.handleClose()}catch(e){console.error("保存图片失败:",e),S({title:"保存失败",icon:"none"})}}}},[["render",function(e,t,i,r,n,c){const d=k,m=y,g=o;return i.show?(a(),s(g,{key:0,class:"share-image-container"},{default:l((()=>[h(g,{class:"share-image-content"},{default:l((()=>[h(d,{"canvas-id":"shareCanvas",id:"shareCanvas",class:"share-canvas",style:b({width:n.canvasWidth+"px",height:n.canvasHeight+"px"})},null,8,["style"]),h(g,{class:"share-actions"},{default:l((()=>[h(m,{class:"share-btn cancel",onClick:c.handleClose},{default:l((()=>[u("取消")])),_:1},8,["onClick"]),h(m,{class:"share-btn confirm",onClick:c.handleSave},{default:l((()=>[u("保存图片")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1})):f("",!0)}],["__scopeId","data-v-cd9ca034"]]),Compare:G({name:"Compare",props:{list:{type:Array,default:()=>[]}},data:()=>({categoryLabels:{value:"估值",length:"号码长度",pattern:"号码规律",lucky:"吉利数字",meaning:"特殊含义",six:"数字6数量",eight:"数字8数量",repeat:"重复数字",continuous:"连号数量"}}),methods:{isWinner(e){if(this.list.length<2)return!1;const t=this.list.map((e=>{let t=0;for(const a in e.valueCategories)t+=e.valueCategories[a];return t}));return t[e]>t[0===e?1:0]},getWinnerText(){if(this.list.length<2)return"";const e=this.getTotalScore(0),t=this.getTotalScore(1);return e>t?"左方胜出":t>e?"右方胜出":"平局"},getTotalScore(e){let t=0;for(const a in this.list[e].valueCategories)t+=this.list[e].valueCategories[a];return t},getCategoryValue(e,t){if("value"===t)return e.valueResult;if("six"===t)return(e.qqNumber.match(/6/g)||[]).length;if("eight"===t)return(e.qqNumber.match(/8/g)||[]).length;if("repeat"===t){const t={};return e.qqNumber.split("").forEach((e=>t[e]=(t[e]||0)+1)),Object.values(t).filter((e=>e>1)).reduce(((e,t)=>e+t),0)}if("continuous"===t){let t=0;const a=e.qqNumber.split("").map(Number);for(let e=0;e<a.length-1;e++)a[e+1]-a[e]==1&&t++;return t}return e.valueCategories[t]||0},isDraw(){if(this.list.length<2)return!1;return this.getTotalScore(0)===this.getTotalScore(1)},formatValue:(e,t)=>e}},[["render",function(e,t,c,m,p,v){const y=g,q=o,_=x;return a(),s(q,{class:"compare-container"},{default:l((()=>[h(q,{class:"compare-content"},{default:l((()=>[h(q,{class:"compare-header"},{default:l((()=>[h(y,{class:"compare-title"},{default:l((()=>[u("QQ号码对比")])),_:1}),h(y,{class:"close-btn",onClick:t[0]||(t[0]=t=>e.$emit("close"))},{default:l((()=>[u("×")])),_:1})])),_:1}),h(_,{class:"qq-list","scroll-y":""},{default:l((()=>[h(q,{class:"qq-items"},{default:l((()=>[h(q,{class:"qq-pair"},{default:l((()=>[c.list[0]?(a(),s(q,{key:0,class:"qq-card left"},{default:l((()=>[v.isWinner(0)?(a(),s(y,{key:0,class:"winner-badge left"},{default:l((()=>[u("胜")])),_:1})):f("",!0),h(y,{class:"qq-number"},{default:l((()=>[u(d(c.list[0].qqNumber),1)])),_:1}),h(y,{class:"qq-nickname"},{default:l((()=>[u(d(c.list[0].qqInfo.nickname||"未知"),1)])),_:1}),h(y,{class:"value-result"},{default:l((()=>[u("￥"+d(c.list[0].valueResult.toLocaleString()),1)])),_:1})])),_:1})):(a(),s(q,{key:1,class:"qq-card empty",onClick:t[1]||(t[1]=t=>e.$emit("add"))},{default:l((()=>[h(y,{class:"add-icon"},{default:l((()=>[u("+")])),_:1}),h(y,null,{default:l((()=>[u("添加QQ号")])),_:1})])),_:1})),h(y,{class:"vs-text"},{default:l((()=>[u("VS")])),_:1}),v.isDraw()?(a(),s(y,{key:2,class:"draw-badge"},{default:l((()=>[u("平")])),_:1})):f("",!0),c.list[1]?(a(),s(q,{key:3,class:"qq-card right"},{default:l((()=>[v.isWinner(1)?(a(),s(y,{key:0,class:"winner-badge right"},{default:l((()=>[u("胜")])),_:1})):f("",!0),h(y,{class:"remove-btn",onClick:t[2]||(t[2]=t=>e.$emit("remove",1))},{default:l((()=>[u("×")])),_:1}),h(y,{class:"qq-number"},{default:l((()=>[u(d(c.list[1].qqNumber),1)])),_:1}),h(y,{class:"qq-nickname"},{default:l((()=>[u(d(c.list[1].qqInfo.nickname||"未知"),1)])),_:1}),h(y,{class:"value-result"},{default:l((()=>[u("￥"+d(c.list[1].valueResult.toLocaleString()),1)])),_:1})])),_:1})):(a(),s(q,{key:4,class:"qq-card empty",onClick:t[3]||(t[3]=t=>e.$emit("add"))},{default:l((()=>[h(y,{class:"add-icon"},{default:l((()=>[u("+")])),_:1}),h(y,null,{default:l((()=>[u("添加QQ号")])),_:1})])),_:1}))])),_:1})])),_:1}),h(q,{class:"compare-analysis"},{default:l((()=>[(a(!0),i(n,null,r(p.categoryLabels,((e,t)=>(a(),s(q,{key:t,class:"category-item"},{default:l((()=>[h(y,{class:"category-label"},{default:l((()=>[u(d(e),1)])),_:2},1024),h(q,{class:"category-bar"},{default:l((()=>[c.list[0]?(a(),s(q,{key:0,class:"progress left",style:b({width:c.list[0]&&c.list[1]?v.getCategoryValue(c.list[0],t)/Math.max(v.getCategoryValue(c.list[0],t)+v.getCategoryValue(c.list[1],t),1)*100+"%":"50%",background:"#4CAF50"})},{default:l((()=>[h(y,{class:"progress-value"},{default:l((()=>[u(d(v.formatValue(v.getCategoryValue(c.list[0],t),t)),1)])),_:2},1024)])),_:2},1032,["style"])):f("",!0),c.list[1]?(a(),s(q,{key:1,class:"progress right",style:b({width:c.list[0]&&c.list[1]?v.getCategoryValue(c.list[1],t)/Math.max(v.getCategoryValue(c.list[0],t)+v.getCategoryValue(c.list[1],t),1)*100+"%":"50%",background:"#1890ff"})},{default:l((()=>[h(y,{class:"progress-value"},{default:l((()=>[u(d(v.formatValue(v.getCategoryValue(c.list[1],t),t)),1)])),_:2},1024)])),_:2},1032,["style"])):f("",!0)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1})])),_:1})])),_:1})}],["__scopeId","data-v-fa3d34d8"]])},data:()=>({tabs:["价值评估","历史记录"],currentTab:0,qqNumber:"",showResult:!1,isDarkMode:!1,valueResult:10,marketPrice:0,averagePrice:0,qqInfo:{avatar:"",nickname:"",yellowNumber:!1,isYellow:!1,yellow:!1},valueCategories:{length:0,pattern:0,lucky:0,meaning:0,avoid:0,level:0,vip:0,age:0},numberAnalysis:{fortune:{overall:"",score:0,details:[],elements:[],suggestions:[]},personality:{summary:"",details:[],strengths:[],weaknesses:[],career:[],relationships:[]},meaning:[]},qqDetail:{name:"",sign:"",age:"",country:"",province:"",city:"",clike:"",level:"",email:"",imgurl:"",qzoneimgurl:""},qqPrivileges:{name:"",avatar:"",services:[]},showServiceDetail:!1,selectedService:null,valueSources:[],hasYellow:!1,isLoading:!1,loadingText:"正在评估中...",showShareImage:!1,showCompare:!1,compareList:[],showCompareInput:!1,compareInputValue:"",compareInputError:""}),methods:{switchTab(e){this.currentTab=e},async handleEvaluate(e){try{this.isLoading=!0,this.loadingText="正在获取QQ信息...",this.qqNumber=e.qqNumber;const t=this.isYellowNumber(e.qqNumber);this.hasYellow=t,this.qqInfo={avatar:`https://q1.qlogo.cn/g?b=qq&nk=${e.qqNumber}&s=100`,nickname:"",yellowNumber:t,isYellow:t,yellow:t},await Promise.all([this.getQQInfo(this.qqNumber),this.getQQPrivileges(this.qqNumber)]),this.loadingText="正在评估号码价值...";const a=R.evaluate(e);this.loadingText="正在分析号码...",this.numberAnalysis=H.analyze(this.qqNumber),this.valueResult=a.value,this.valueSources=a.valueSources,this.valueCategories=a.valueCategories;const s=O.getMarketPrice();let l=0,i=0;this.qqNumber.length<=5&&(l+=(s.shortNumber.min+s.shortNumber.max)/2,i++),this.hasYellow&&(l+=(s.yellowNumber.min+s.yellowNumber.max)/2,i++),this.valueSources.some((e=>"pattern"===e.category))&&(l+=(s.specialNumber.min+s.specialNumber.max)/2,i++),this.valueSources.some((e=>"age"===e.category))&&(l+=(s.oldAccount.min+s.oldAccount.max)/2,i++),this.qqPrivileges.services.length>0&&(l+=(s.vipAccount.min+s.vipAccount.max)/2,i++),this.marketPrice=i>0?Math.round(l/i):0;const r=O.getStatistics();this.averagePrice=Math.round(r.averageValue)||0,O.addHistory({qqNumber:this.qqNumber,value:this.valueResult,valueSources:this.valueSources,valueCategories:this.valueCategories,numberAnalysis:this.numberAnalysis,qqInfo:this.qqInfo}),this.showResult=!1,await this.$nextTick(),this.showResult=!0,this.$refs.qqForm.resetEvaluating()}catch(t){this.$refs.qqForm.resetEvaluating(),S({title:t.message,icon:"none"})}finally{this.isLoading=!1}},handleClear(){this.showResult=!1},handleThemeChange(e){this.isDarkMode=e,t("isDarkMode",this.isDarkMode)},async handleShare(){const{tapIndex:e}=await F({itemList:["复制文本","生成分享图片"]});if(0===e)try{let e=`QQ号：${this.qqNumber}\n`;this.qqInfo.nickname&&(e+=`昵称：${this.qqInfo.nickname}\n`),this.qqDetail.level&&(e+=`等级：${this.qqDetail.level}\n`),this.qqDetail.sign&&(e+=`签名：${this.qqDetail.sign}\n`),e+=`\n估价结果：${this.valueResult}元\n\n`,e+=this.valueSources.map((e=>`${e.text} ${e.value}`)).join("\n"),await T({data:e}),S({title:"复制成功",icon:"success"})}catch(t){S({title:"复制失败",icon:"none"})}else 1===e&&(this.showShareImage=!0)},async getQQInfo(e){try{this.qqInfo.avatar=`https://q1.qlogo.cn/g?b=qq&nk=${e}&s=100`;const t=await N({url:`https://apis.kit9.cn/api/qq_material/api.php?qq=${e}`,method:"GET"});if(t.data&&200===t.data.code){const e=t.data.data,a=e=>e&&"仅自己可见"!==e&&"未设置"!==e?e:"未知";this.qqDetail={name:a(e.name),sign:a(e.sign),age:a(e.age),level:a(e.level),qid:a(e.qid),clike:a(e.clike),country:a(e.country),province:a(e.province),city:a(e.city)},this.qqInfo.nickname=this.qqDetail.name,e.level&&"未知"!==e.level&&this.$refs.qqForm.setQQLevel(e.level)}else console.error("获取QQ信息失败:",t.data.msg),this.qqInfo.nickname="未知"}catch(t){console.error("获取QQ信息失败:",t),this.qqInfo.nickname="未知"}},resetAllData(){this.qqInfo={avatar:"",nickname:""},this.qqDetail={name:"",sign:"",age:"",gender:"",level:"",qid:"",country:"",province:"",city:""},this.qqPrivileges={name:"",avatar:"",services:[]},this.valueResult=0,this.valueSources=[],this.hasYellow=!1,this.showServiceDetail=!1,this.selectedService=null,this.showAnalysis=!1,this.$refs.qqForm&&this.$refs.qqForm.resetForm()},handleQQNumberChange(e){e?(e=e.replace(/\D/g,""),this.qqNumber=e):this.qqNumber="",this.showResult=!1},isValidQQNumber:e=>/^\d{5,11}$/.test(e),isYellowNumber(e,t=[]){console.log("判断靓号:",e);const a=(e=>{if(e.includes("520")||e.includes("1314"))return!0;if(e.length<=6)return!0;if(/^(\d)\1{5,}$/.test(e))return!0;if(/^(\d{3})\1+$/.test(e))return!0;if(/^(\d)\1{2,}(\d)\2{2,}$/.test(e))return!0;return!!(e=>{const t=e.split("").map(Number),a=t[1]-t[0];return t.every(((e,s)=>0===s||e-t[s-1]===a))})(e)})(e);return console.log("靓号判断结果:",a),a},async getQQPrivileges(e){try{const t=await N({url:`https://apis.kit9.cn/api/qq_privilege/api.php?qq=${e}`,method:"GET"});if(this.qqPrivileges={name:"",avatar:"",services:[]},t.data&&200===t.data.code&&t.data.data){const a=(t.data.data||[]).filter((e=>e&&e.name&&"未开通"!==e.status&&"已过期"!==e.status));a.length>0&&(this.qqPrivileges={name:t.data.name||"",avatar:t.data.avatar||"",services:a}),this.hasYellow=this.isYellowNumber(e,a)}}catch(t){console.error("获取QQ特权信息失败:",t),this.qqPrivileges={name:"",avatar:"",services:[]},this.hasYellow=!1}},showServiceInfo(e){this.selectedService=e,this.showServiceDetail=!0},closeServiceDetail(){this.showServiceDetail=!1,this.selectedService=null},closeShareImage(){this.showShareImage=!1},handleCompare(){this.showCompare||(this.compareList=[{qqNumber:this.qqNumber,qqInfo:this.qqInfo,valueResult:this.valueResult,valueCategories:this.valueCategories}]),this.showCompare=!0},closeCompare(){this.showCompare=!1},async handleAddCompare(){this.compareList.length>=3?S({title:"最多只能对比3个QQ号",icon:"none"}):(this.showCompareInput=!0,this.compareInputValue="")},async handleCompareInputConfirm(){const e=this.compareInputValue.trim();if(this.compareList.some((t=>t.qqNumber===e)))this.compareInputError="该QQ号码在对比列表中";else if(e)if(/^\d{5,11}$/.test(e)){this.compareInputError="",this.showCompareInput=!1,this.isLoading=!0,this.loadingText="正在获取QQ信息...";try{const t={avatar:`https://q1.qlogo.cn/g?b=qq&nk=${e}&s=100`,nickname:""},a=await N({url:`https://apis.kit9.cn/api/qq_material/api.php?qq=${e}`,method:"GET"});a.data&&200===a.data.code&&(t.nickname=a.data.data.name||"未知");const s={qqNumber:e,hasYellow:this.isYellowNumber(e)},l=R.evaluate(s);this.compareList.push({qqNumber:e,qqInfo:t,valueResult:l.value,valueCategories:l.valueCategories}),this.compareInputValue="",S({title:"添加成功",icon:"success"})}catch(t){console.error("添加对比失败:",t),S({title:"添加失败，请重试",icon:"none"})}finally{this.isLoading=!1}}else this.compareInputError="QQ号必须是5-11位数字";else this.compareInputError="请输入QQ号"},handleCompareInputCancel(){this.showCompareInput=!1,this.compareInputValue="",this.compareInputError=""},removeFromCompare(e){this.compareList.splice(e,1),0===this.compareList.length&&(this.showCompare=!1)},openExternalLink(){window.open("https://www.hzv5.cn","_blank")},openCopyright(){window.open("https://www.hzv5.cn","_blank")}},onLoad(){const t=e("isDarkMode");""!==t&&(this.isDarkMode=t)}},[["render",function(e,t,i,r,n,m){const v=g,q=o,_=C("TabBar"),b=C("QQForm"),k=y,w=C("QQProfile"),S=C("Analysis"),x=C("Compare"),I=p,D=C("HistoryAndStats"),Q=C("ThemeSwitch"),F=C("ServiceDetailPopup"),T=C("Loading"),N=C("ShareImage");return a(),s(q,{class:c(["container",{"dark-mode":n.isDarkMode}])},{default:l((()=>[h(q,{class:"fixed-header"},{default:l((()=>[h(q,{class:"custom-header"},{default:l((()=>[h(v,{class:"title-main"},{default:l((()=>[u("QQ号码价值评估")])),_:1}),h(v,{class:"title-sub"},{default:l((()=>[u("专业、全面的QQ号码估值工具")])),_:1})])),_:1}),h(_,{tabs:n.tabs,currentTab:n.currentTab,onTabChange:m.switchTab},null,8,["tabs","currentTab","onTabChange"])])),_:1}),0===n.currentTab?(a(),s(q,{key:0},{default:l((()=>[h(b,{ref:"qqForm",onEvaluate:m.handleEvaluate,onClear:m.handleClear,onQqChange:m.handleQQNumberChange},null,8,["onEvaluate","onClear","onQqChange"]),n.showResult?(a(),s(q,{key:0},{default:l((()=>[h(q,{class:"result-header"},{default:l((()=>[h(v,null,{default:l((()=>[u("QQ号码价值分析")])),_:1}),h(q,{class:"result-actions"},{default:l((()=>[h(k,{class:"action-btn",onClick:m.handleCompare},{default:l((()=>[h(v,{class:"action-icon"},{default:l((()=>[u("对比")])),_:1})])),_:1},8,["onClick"]),h(k,{class:"action-btn",onClick:m.handleShare},{default:l((()=>[h(v,{class:"action-icon"},{default:l((()=>[u("分享")])),_:1})])),_:1},8,["onClick"])])),_:1})])),_:1}),h(w,{qqNumber:n.qqNumber,qqInfo:n.qqInfo,qqDetail:n.qqDetail,qqPrivileges:n.qqPrivileges,hasYellow:n.hasYellow,onShowService:m.showServiceInfo},null,8,["qqNumber","qqInfo","qqDetail","qqPrivileges","hasYellow","onShowService"]),h(S,{valueResult:n.valueResult,valueSources:n.valueSources,valueCategories:n.valueCategories,numberAnalysis:n.numberAnalysis,marketPrice:n.marketPrice,averagePrice:n.averagePrice,isDarkMode:n.isDarkMode},null,8,["valueResult","valueSources","valueCategories","numberAnalysis","marketPrice","averagePrice","isDarkMode"])])),_:1})):f("",!0),n.showCompare?(a(),s(x,{key:1,list:n.compareList,onClose:m.closeCompare,onAdd:m.handleAddCompare,onRemove:m.removeFromCompare},null,8,["list","onClose","onAdd","onRemove"])):f("",!0),n.showCompareInput?(a(),s(q,{key:2,class:"input-dialog"},{default:l((()=>[h(q,{class:"input-content"},{default:l((()=>[h(q,{class:"input-header"},{default:l((()=>[h(v,{class:"input-title"},{default:l((()=>[u("添加QQ号")])),_:1}),h(v,{class:"input-close",onClick:m.handleCompareInputCancel},{default:l((()=>[u("×")])),_:1},8,["onClick"])])),_:1}),h(I,{class:"input-field",type:"number",modelValue:n.compareInputValue,"onUpdate:modelValue":t[0]||(t[0]=e=>n.compareInputValue=e),placeholder:"请输入QQ号",maxlength:"11",onConfirm:m.handleCompareInputConfirm},null,8,["modelValue","onConfirm"]),n.compareInputError?(a(),s(v,{key:0,class:"input-error"},{default:l((()=>[u(d(n.compareInputError),1)])),_:1})):f("",!0),h(q,{class:"input-actions"},{default:l((()=>[h(k,{class:"input-btn cancel",onClick:m.handleCompareInputCancel},{default:l((()=>[u("取消")])),_:1},8,["onClick"]),h(k,{class:"input-btn confirm",onClick:m.handleCompareInputConfirm},{default:l((()=>[u("确定")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1})):f("",!0)])),_:1})):f("",!0),1===n.currentTab?(a(),s(q,{key:1,class:"stats-container"},{default:l((()=>[h(D,{isDarkMode:n.isDarkMode},null,8,["isDarkMode"])])),_:1})):f("",!0),h(Q,{isDarkMode:n.isDarkMode,onThemeChange:m.handleThemeChange},null,8,["isDarkMode","onThemeChange"]),h(F,{show:n.showServiceDetail,service:n.selectedService,onClose:m.closeServiceDetail},null,8,["show","service","onClose"]),h(T,{show:n.isLoading,text:n.loadingText},null,8,["show","text"]),h(N,{show:n.showShareImage,"qq-number":n.qqNumber,"qq-info":n.qqInfo,"value-result":n.valueResult,"value-sources":n.valueSources,"is-dark-mode":n.isDarkMode,onClose:m.closeShareImage},null,8,["show","qq-number","qq-info","value-result","value-sources","is-dark-mode","onClose"]),h(q,{class:"copyright"},{default:l((()=>[h(v,{onClick:m.openCopyright},{default:l((()=>[u("All CopyRight © 吖远zzy,20241225")])),_:1},8,["onClick"])])),_:1})])),_:1},8,["class"])}],["__scopeId","data-v-f6a51dd9"]]);export{U as default};
