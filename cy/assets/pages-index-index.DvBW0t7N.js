import{d as e,g as t,s,a,b as l,u as r,r as o,c as i,w as c,n,_ as d,o as h,e as u,f as m,h as g,i as f,F as p,j as y,k as b,t as _,l as v,m as k,I as w,p as S}from"./index-DtVtic3_.js";function C(e,t,s,a){return new(s||(s=Promise))((function(l,r){function o(e){try{c(a.next(e))}catch(t){r(t)}}function i(e){try{c(a.throw(e))}catch(t){r(t)}}function c(e){var t;e.done?l(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,i)}c((a=a.apply(e,t||[])).next())}))}"function"==typeof SuppressedError&&SuppressedError;const x=e({data:()=>({searchModes:[{label:"完整搜索",value:"full",icon:"🔍"},{label:"按字搜索",value:"char",icon:"📝"},{label:"分类筛选",value:"category",icon:"📑"}],currentMode:"full",fullSearchText:"",charInputs:["","","",""],idiomList:[],searchResults:[],showPopup:!1,currentIdiom:{},timer:null,currentTheme:"light",showThemePanel:!1,themes:{light:{name:"浅色",value:"light",icon:"☀️",colors:{primary:"#3b82f6",secondary:"#60a5fa",background:"#f8fafc",cardBg:"#ffffff",textPrimary:"#1e293b",textSecondary:"#64748b",border:"#e2e8f0",inputBg:"#f1f5f9"}},dark:{name:"深色",value:"dark",icon:"🌙",colors:{primary:"#2563eb",secondary:"#3b82f6",background:"#0f172a",cardBg:"#1e293b",textPrimary:"#f1f5f9",textSecondary:"#94a3b8",border:"#334155",inputBg:"#1e293b"}},blue:{name:"海洋",value:"blue",icon:"������",colors:{primary:"#0ea5e9",secondary:"#38bdf8",background:"#f0f9ff",cardBg:"#ffffff",textPrimary:"#0c4a6e",textSecondary:"#0369a1",border:"#bae6fd",inputBg:"#e0f2fe"}},green:{name:"森林",value:"green",icon:"🌿",colors:{primary:"#059669",secondary:"#10b981",background:"#f0fdf4",cardBg:"#ffffff",textPrimary:"#064e3b",textSecondary:"#065f46",border:"#a7f3d0",inputBg:"#d1fae5"}},purple:{name:"紫晶",value:"purple",icon:"💜",colors:{primary:"#7c3aed",secondary:"#8b5cf6",background:"#f5f3ff",cardBg:"#ffffff",textPrimary:"#4c1d95",textSecondary:"#6d28d9",border:"#ddd6fe",inputBg:"#ede9fe"}},orange:{name:"日落",value:"orange",icon:"🌅",colors:{primary:"#ea580c",secondary:"#f97316",background:"#fff7ed",cardBg:"#ffffff",textPrimary:"#7c2d12",textSecondary:"#c2410c",border:"#fed7aa",inputBg:"#ffedd5"}},pink:{name:"樱花",value:"pink",icon:"🌸",colors:{primary:"#db2777",secondary:"#ec4899",background:"#fdf2f8",cardBg:"#ffffff",textPrimary:"#831843",textSecondary:"#be185d",border:"#fbcfe8",inputBg:"#fce7f3"}},cyan:{name:"海",value:"cyan",icon:"🌊",colors:{primary:"#0891b2",secondary:"#06b6d4",background:"#ecfeff",cardBg:"#ffffff",textPrimary:"#164e63",textSecondary:"#155e75",border:"#a5f3fc",inputBg:"#cffafe"}}},showCategoryPanel:!1,currentCategory:"",categories:[{name:"全部",value:"",description:"所有成语"},{name:"褒义",value:"positive",description:"褒奖、赞扬"},{name:"贬义",value:"negative",description:"贬低、讽刺"},{name:"中性",value:"neutral",description:"中性成语"},{name:"人物",value:"character",description:"描述人物"},{name:"事物",value:"object",description:"描述事物特征"},{name:"景色",value:"scenery",description:"描述自然景色"},{name:"心情",value:"emotion",description:"描述心情感受"},{name:"行为",value:"behavior",description:"描述行为动作"}],isLoading:!1,showGamePanel:!1,gameHistory:[],gameInput:"",gameTip:"",gameOver:!1,gameScore:0,gameOverTip:"",usedWords:new Set,gameOverStats:{totalWords:0,playerWords:0,averageScore:0},pageSize:20,currentPage:1,isRefreshing:!1,isLoadingMore:!1,hasMore:!0,allResults:[]}),onLoad(){this.loadIdiomData();const e=t("theme");e&&(this.currentTheme=e)},computed:{hasCharInput(){return this.charInputs.some((e=>""!==e.trim()))}},methods:{loadIdiomData(){return C(this,void 0,void 0,(function*(){try{const e=yield new Promise(((e,t)=>{o({url:"/static/data/idiom.json",method:"GET",success:t=>{e(t)},fail:e=>{t(e)}})}));console.log("API Response:",e),e&&200===e.statusCode&&e.data?(this.idiomList=e.data,console.log("成语数据加载成功，共",this.idiomList.length,"条"),console.log("数据示例:",this.idiomList.slice(0,3))):console.error("数据加载失败:",e)}catch(e){console.error("加载成语数据失败:",e),a({title:"数据加载失败",icon:"none"})}}))},switchMode(e){if("category"===e)return this.showCategoryPanel=!0,null;this.currentMode=e,this.searchResults=[],this.fullSearchText="",this.charInputs=["","","",""]},onFullSearch(e){null!==this.timer&&clearTimeout(this.timer),this.timer=setTimeout((()=>{this.searchIdioms()}),300)},onCharSearch(){null!==this.timer&&clearTimeout(this.timer),this.timer=setTimeout((()=>{this.searchByChars()}),300)},searchIdioms(){var e;if(console.log("开始搜索，关键词:",this.fullSearchText),console.log("当前数据量:",null===(e=this.idiomList)||void 0===e?void 0:e.length),!this.idiomList||0===this.idiomList.length)return console.log("成语数据尚未加载完成"),null;if(!this.fullSearchText.trim()&&!this.currentCategory)return console.log("无搜索关键词和分类"),this.allResults=[],this.searchResults=[],this.hasMore=!1,null;const t=this.fullSearchText.toLowerCase();this.allResults=this.idiomList.filter((e=>{var s,a;if(this.currentCategory&&!this.checkCategory(e,this.currentCategory))return!1;if(!t)return!0;return e.word.includes(t)||(null===(s=e.abbreviation)||void 0===s?void 0:s.toLowerCase().includes(t))||this.removeTone((null===(a=e.pinyin)||void 0===a?void 0:a.toLowerCase())||"").includes(t)})),console.log("搜索结果总数:",this.allResults.length),this.searchResults=this.allResults.slice(0,this.pageSize),console.log("当前页显示数量:",this.searchResults.length),this.hasMore=this.allResults.length>this.pageSize},searchByChars(){if(!this.idiomList||0===this.idiomList.length)return console.log("成语数据尚未加载完成"),null;console.log("开始按字搜索");if(!this.charInputs.some((e=>e.trim())))return this.allResults=[],this.searchResults=[],this.hasMore=!1,null;this.allResults=this.idiomList.filter((e=>{const t=(null==e?void 0:e.word)||"",s=((null==e?void 0:e.abbreviation)||"").toLowerCase();return((null==e?void 0:e.pinyin)||"").toLowerCase(),this.charInputs.every(((e,a)=>!e.trim()||(/[a-zA-Z]/.test(e)?s[a]===e.toLowerCase():t[a]===e)))})),console.log("按字搜索结果数量:",this.allResults.length),this.searchResults=this.allResults.slice(0,this.pageSize),this.hasMore=this.allResults.length>this.pageSize},showDetail(e){this.currentIdiom=e,this.showPopup=!0},removeTone:(e=null)=>e.replace(/ā|á|ǎ|à/g,"a").replace(/ō|ó|ǒ|ò/g,"o").replace(/ē|é|ě|è/g,"e").replace(/ī|í|ǐ|ì/g,"i").replace(/ū|ú|ǔ|ù/g,"u").replace(/ǖ|ǘ|ǚ|ǜ/g,"ü").replace(/ń|ň|ǹ/g,"n").replace(/ḿ/g,"m"),clearFullSearch(){this.fullSearchText="",this.searchResults=[]},clearAllChar(){this.charInputs=["","","",""],this.searchResults=[]},switchTheme(e){this.currentTheme=e,s("theme",e),this.showThemePanel=!1,a({title:"主题切换成功",icon:"none",duration:1500})},filterByCategory(e){this.currentCategory=e,this.isLoading=!0,this.showCategoryPanel=!1,setTimeout((()=>{this.fullSearchText||this.hasCharInput?"full"===this.currentMode?this.searchIdioms():this.searchByChars():e?(this.allResults=this.idiomList.filter((t=>this.checkCategory(t,e))),this.searchResults=this.allResults.slice(0,this.pageSize),this.hasMore=this.allResults.length>this.pageSize):(this.allResults=this.idiomList,this.searchResults=this.allResults.slice(0,this.pageSize),this.hasMore=this.allResults.length>this.pageSize),this.isLoading=!1}),1e3)},checkCategory(e,t){const s=e.explanation+e.example;switch(t){case"positive":const t=/(讽刺|讥讽|嘲笑|贬低|责备|批评)/;return[/褒义词|含褒义/,/赞(扬|颂|美|叹|许|赏)/,/(正直|诚实|善良|勤奋|谦虚|勇敢|忠诚|仁慈|孝顺)/,/(智慧|聪明|才华|能干|精通|擅长|出众|卓越)/,/(高尚|崇高|优秀|杰出|完美|��异|高洁|清廉)/,/(繁荣|昌盛|和谐|美好|祥和|欣欣向荣)/].some((e=>e.test(s)))&&!t.test(s);case"negative":const a=/(赞|美好|优秀|杰出|高尚)/;return[/贬义词|含贬义/,/(讽刺|讥讽|嘲笑|贬低|责备|批评)/,/(虚伪|狡猾|懒惰|傲慢|自私|怯懦|奸诈|刻薄)/,/(欺骗|诽谤|中伤|诋毁|谩骂|欺凌|作恶)/,/(糟糕|恶劣|低劣|卑劣|恶毒|混乱|堕落)/,/(乱|假|偷|骗|假冒|伪|劣)/].some((e=>e.test(s)))&&!a.test(s);case"character":return[/(品格|品质|品德|人品|德行|气质)/,/(性格|脾气|个性|秉性|为人)/,/(才能|能力|本领|技艺|技能)/,/(智慧|聪明|才华|贤良|贤德)/,/(胸怀|胸襟|概|气节|气度)/].some((e=>e.test(s)));case"object":return[/形容.*(物|事物|东西)/,/(物品|器物|实).*(状态|特征|样子)/,/(景物|器具|用具)/,/比喻.*(物品|东西|事物)/].some((e=>e.test(s)));case"scenery":return[/(景色|景象|风景|景致|风光)/,/(山水|云霞|日月|星辰|草木)/,/(江山|河流|湖泊|山川|大地)/,/描写.*(景色|景象|自然)/,/形容.*(景色|景象|自然)/].some((e=>e.test(s)));case"emotion":return[/(心情|感情|情绪|心境|感受)/,/(喜悦|欢乐|悲伤|愤怒|焦虑)/,/(心理|心境|态|心绪|事)/,/(高兴|快乐|痛苦|忧愁|烦恼)/,/形容.*(心情|感受|情绪)/].some((e=>e.test(s)));case"behavior":return[/(行为|举止|动作|表现|态度)/,/(言行|举动|行动|作为|做法)/,/(处事|待人|接物|行事|举措)/,/形容.*(行为|举止|动作)/,/描述.*(行为|举止|动作)/].some((e=>e.test(s)));case"neutral":return!this.checkCategory(e,"positive")&&!this.checkCategory(e,"negative");default:return!0}},startGame(){this.resetGame(),this.gameTip="请输入任意成语开始游戏",this.showGamePanel=!0},exitGame(){this.gameHistory.length>0&&!this.gameOver?l(new UTSJSONObject({title:"提示",content:"退出后将重新开始游戏，确定要退出吗？",success:e=>{e.confirm&&(this.showGamePanel=!1,this.resetGame())}})):this.showGamePanel=!1},restartGame(){this.resetGame(),this.gameTip="请输入任意成语开始游戏"},getGamePlaceholder(){if(0===this.gameHistory.length)return"请输入任意成语开始游戏";const e=this.gameHistory[this.gameHistory.length-1].word,t=e[e.length-1];return'请输入以"'.concat(t,'"开头的成语')},submitAnswer(){const e=this.gameInput.trim();if(!e)return this.gameTip="请输入成语",null;const t=UTS.arrayFind(this.idiomList,(t=>t.word===e));if(!t)return this.gameTip="未找到该成语",null;if(this.usedWords.has(e))return this.gameTip="该成语已经使用过了",null;if(this.gameHistory.length>0){const t=this.gameHistory[this.gameHistory.length-1].word,s=t[t.length-1];if(e[0]!==s)return this.gameTip='请输入以"'.concat(s,'"开头的成语'),null}this.gameTip="",this.gameHistory.push({word:e,pinyin:t.pinyin,isPlayer:!0}),this.usedWords.add(e),this.gameScore+=10,this.gameInput="",setTimeout((()=>{this.scrollToBottom()}),100),this.computerAnswer(e[e.length-1])},computerAnswer(e){const t=this.idiomList.filter((t=>t.word[0]===e&&!this.usedWords.has(t.word)));if(0===t.length)return this.gameOver=!0,this.gameOverTip="恭喜你赢了！电脑找不到合适的成语了。",this.updateGameStats(),null;const s=t[Math.floor(Math.random()*t.length)];this.gameHistory.push({word:s.word,pinyin:s.pinyin,isPlayer:!1}),this.usedWords.add(s.word),setTimeout((()=>{this.scrollToBottom()}),100);const a=s.word[s.word.length-1];this.idiomList.some((e=>e.word[0]===a&&!this.usedWords.has(e.word)))||(this.gameOver=!0,this.gameOverTip="游戏结束，电脑赢了！你没有可用的成语了。",this.updateGameStats())},updateGameStats(){const e=this.gameHistory.length,t=this.gameHistory.filter((e=>e.isPlayer)).length;this.gameOverStats={totalWords:e,playerWords:t,averageScore:Math.round(this.gameScore/t)||0}},giveUpGame(){l(new UTSJSONObject({title:"提示",content:"确定放弃本局戏吗？",success:e=>{if(e.confirm){this.gameOver=!0,this.gameOverTip="已放弃本局游戏";const e=this.gameHistory.length,t=this.gameHistory.filter((e=>e.isPlayer)).length;this.gameOverStats={totalWords:e,playerWords:t,averageScore:Math.round(this.gameScore/t)||0}}}}))},endGame(e){this.gameOver=!0,this.gameOverTip=e;const t=this.gameHistory.length,s=this.gameHistory.filter((e=>e.isPlayer)).length;this.gameOverStats={totalWords:t,playerWords:s,averageScore:Math.round(this.gameScore/s)||0}},loadMore(){return C(this,void 0,void 0,(function*(){if(!this.hasMore||this.isLoadingMore)return Promise.resolve(null);this.isLoadingMore=!0;try{yield new Promise((e=>setTimeout(e,1500)));const e=this.searchResults.length,t=this.allResults.slice(e,e+this.pageSize);setTimeout((()=>{this.searchResults.push(...t),this.hasMore=this.searchResults.length<this.allResults.length,this.isLoadingMore=!1}),100)}catch(e){console.error("加载更多失败:",e),this.isLoadingMore=!1}}))},refresh(){return C(this,void 0,void 0,(function*(){if(this.isRefreshing)return Promise.resolve(null);this.isRefreshing=!0,yield new Promise((e=>setTimeout(e,1e3))),"full"===this.currentMode?this.searchIdioms():this.searchByChars(),this.isRefreshing=!1}))},scrollToBottom(){const e=document.querySelector(".game-panel-body");e&&(e.scrollTop=e.scrollHeight)},resetGame(){this.gameHistory=[],this.gameInput="",this.gameTip="",this.gameOver=!1,this.gameScore=0,this.gameOverTip="",this.usedWords.clear(),this.gameOverStats={totalWords:0,playerWords:0,averageScore:0}},computerFirst(){const e=Math.floor(Math.random()*this.idiomList.length),t=this.idiomList[e];this.gameHistory.push({word:t.word,pinyin:t.pinyin,isPlayer:!1}),this.usedWords.add(t.word);const s=t.word[t.word.length-1];this.gameTip='请输入以"'.concat(s,'"开头的成语'),setTimeout((()=>{this.scrollToBottom()}),100)}}}),T=()=>{r(((e=null)=>new UTSJSONObject({"9bb5ad56":e.themes.green.colors.primary,"0ad9f7f2":e.themes.green.colors.secondary,"21c7d60a":e.themes.green.colors.background,f96ca47c:e.themes.green.colors.cardBg,"4d20dde8":e.themes.green.colors.textPrimary,"7518404c":e.themes.green.colors.textSecondary,fb4bbb0e:e.themes.green.colors.border,"396cb102":e.themes.green.colors.inputBg,"181f4130":e.themes.purple.colors.primary,"6b32ddbc":e.themes.purple.colors.secondary,"19ba2b40":e.themes.purple.colors.background,"760fae87":e.themes.purple.colors.cardBg,76459043:e.themes.purple.colors.textPrimary,38356775:e.themes.purple.colors.textSecondary,"7520233e":e.themes.purple.colors.border,c1326e46:e.themes.purple.colors.inputBg,e0499f04:e.themes.orange.colors.primary,"42e3e4f0":e.themes.orange.colors.secondary,"9e315d9c":e.themes.orange.colors.background,"0e919d79":e.themes.orange.colors.cardBg,"7685aede":e.themes.orange.colors.textPrimary,"71afb77a":e.themes.orange.colors.textSecondary,"0da21230":e.themes.orange.colors.border,"1722b82b":e.themes.orange.colors.inputBg,"4529e2b6":e.themes.pink.colors.primary,"41622db0":e.themes.pink.colors.secondary,bc46580c:e.themes.pink.colors.background,eff0777e:e.themes.pink.colors.cardBg,"1b10026e":e.themes.pink.colors.textPrimary,"71864c7b":e.themes.pink.colors.textSecondary,f1cf8e10:e.themes.pink.colors.border,"671d2b3a":e.themes.pink.colors.inputBg,ae933d2e:e.themes.cyan.colors.primary,dc92f1ca:e.themes.cyan.colors.secondary,"3c68f467":e.themes.cyan.colors.background,"3067232e":e.themes.cyan.colors.cardBg,ad202808:e.themes.cyan.colors.textPrimary,"4a37b8ee":e.themes.cyan.colors.textSecondary,"2f7797e5":e.themes.cyan.colors.border,"2ffde916":e.themes.cyan.colors.inputBg,"7c450a3c":e.themes.light.colors.primary,"0505b358":e.themes.light.colors.secondary,"49763c4e":e.themes.light.colors.background,"00ab12d6":e.themes.light.colors.cardBg,"3e0ba0f5":e.themes.light.colors.textPrimary,"26ba13a7":e.themes.light.colors.textSecondary,"028a2968":e.themes.light.colors.border,"4925028f":e.themes.light.colors.inputBg,81749694:e.themes.dark.colors.primary,"41be3b28":e.themes.dark.colors.secondary,e5507c0c:e.themes.dark.colors.background,"5229b241":e.themes.dark.colors.cardBg,"765ad0c9":e.themes.dark.colors.textPrimary,f006c30a:e.themes.dark.colors.textSecondary,"513a26f8":e.themes.dark.colors.border,"468d3c63":e.themes.dark.colors.inputBg,"3ec80f52":e.themes.blue.colors.primary,"2bd74278":e.themes.blue.colors.secondary,"2073dc44":e.themes.blue.colors.background,"6c38d7b6":e.themes.blue.colors.cardBg,"61b67d65":e.themes.blue.colors.textPrimary,"0b1f9417":e.themes.blue.colors.textSecondary,"6e17ee48":e.themes.blue.colors.border,"73e0d202":e.themes.blue.colors.inputBg})))},P=x.setup;x.setup=P?(e,t)=>(T(),P(e,t)):T;const R=((e,t)=>{const s=e.__vccOpts||e;for(const[a,l]of t)s[a]=l;return s})(x,[["render",function(e,t,s,a,l,r){const o=v,C=d,x=k,T=w;return h(),i(C,{class:n(["container",l.currentTheme])},{default:c((()=>[u(C,{class:"header"},{default:c((()=>[u(C,{class:"header-content"},{default:c((()=>[u(o,{class:"logo"},{default:c((()=>[m("📚")])),_:1}),u(C,{class:"header-text"},{default:c((()=>[u(o,{class:"title"},{default:c((()=>[m("成语词典")])),_:1}),u(o,{class:"subtitle"},{default:c((()=>[m("传统文化 • 寓教于乐")])),_:1})])),_:1}),u(C,{class:"game-btn",onClick:t[0]||(t[0]=e=>l.showGamePanel=!0)},{default:c((()=>[u(o,{class:"game-icon"},{default:c((()=>[m("🎮")])),_:1})])),_:1})])),_:1})])),_:1}),u(C,{class:"theme-fab",onClick:t[1]||(t[1]=e=>l.showThemePanel=!0)},{default:c((()=>[u(o,{class:"theme-fab-icon"},{default:c((()=>[m("🎨")])),_:1})])),_:1}),l.showThemePanel?(h(),i(C,{key:0,class:"theme-panel"},{default:c((()=>[u(C,{class:"theme-panel-content"},{default:c((()=>[u(C,{class:"theme-panel-header"},{default:c((()=>[u(C,{class:"theme-panel-title-group"},{default:c((()=>[u(o,{class:"theme-panel-title"},{default:c((()=>[m("主题设置")])),_:1})])),_:1})])),_:1}),u(x,{class:"theme-panel-body","scroll-y":""},{default:c((()=>[u(C,{class:"theme-grid"},{default:c((()=>[(h(!0),g(p,null,f(l.themes,((e,t)=>(h(),i(C,{key:t,class:n(["theme-grid-item",{active:l.currentTheme===t}]),onClick:e=>r.switchTheme(t)},{default:c((()=>[u(C,{class:"theme-preview",style:S({background:"linear-gradient(135deg, ".concat(e.colors.primary,", ").concat(e.colors.secondary,")")})},{default:c((()=>[l.currentTheme===t?(h(),i(o,{key:0,class:"theme-check"},{default:c((()=>[m("✓")])),_:1})):y("",!0)])),_:2},1032,["style"]),u(o,{class:"theme-name"},{default:c((()=>[m(_(e.name),1)])),_:2},1024)])),_:2},1032,["class","onClick"])))),128))])),_:1})])),_:1})])),_:1}),u(C,{class:"close-btn-wrapper"},{default:c((()=>[u(o,{class:"close-btn",onClick:t[2]||(t[2]=e=>l.showThemePanel=!1)},{default:c((()=>[m("×")])),_:1})])),_:1})])),_:1})):y("",!0),u(C,{class:"search-mode"},{default:c((()=>[(h(!0),g(p,null,f(l.searchModes,((e,t)=>(h(),i(C,{key:t,class:n(["mode-item",("category"===e.value?l.currentCategory:l.currentMode)===e.value?"active":""]),onClick:t=>r.switchMode(e.value)},{default:c((()=>[u(o,{class:"mode-icon"},{default:c((()=>[m(_(e.icon),1)])),_:2},1024),u(o,{class:n(["mode-text",("category"===e.value?l.currentCategory:l.currentMode)===e.value?"active-text":""])},{default:c((()=>{var t;return[m(_("category"===e.value&&l.currentCategory?null==(t=l.categories.find((e=>e.value===l.currentCategory)))?void 0:t.name:e.label),1)]})),_:2},1032,["class"])])),_:2},1032,["class","onClick"])))),128))])),_:1}),l.showCategoryPanel?(h(),i(C,{key:1,class:"category-panel"},{default:c((()=>[u(C,{class:"category-panel-content"},{default:c((()=>[u(C,{class:"category-panel-header"},{default:c((()=>[u(C,{class:"category-panel-title-group"},{default:c((()=>[u(o,{class:"category-panel-title"},{default:c((()=>[m("分类筛选")])),_:1})])),_:1})])),_:1}),u(x,{class:"category-panel-body","scroll-y":""},{default:c((()=>[u(C,{class:"category-list"},{default:c((()=>[(h(!0),g(p,null,f(l.categories,(e=>(h(),i(C,{key:e.value,class:n(["category-item",{active:l.currentCategory===e.value}]),onClick:t=>r.filterByCategory(e.value)},{default:c((()=>[l.currentCategory===e.value?(h(),i(C,{key:0,class:"category-badge"},{default:c((()=>[m("✓")])),_:1})):y("",!0),u(C,{class:"category-item-header"},{default:c((()=>[u(o,{class:"category-item-name"},{default:c((()=>[m(_(e.name),1)])),_:2},1024)])),_:2},1024),u(o,{class:"category-item-desc"},{default:c((()=>[m(_(e.description),1)])),_:2},1024)])),_:2},1032,["class","onClick"])))),128))])),_:1})])),_:1})])),_:1}),u(C,{class:"close-btn-wrapper"},{default:c((()=>[u(o,{class:"close-btn",onClick:t[3]||(t[3]=e=>l.showCategoryPanel=!1)},{default:c((()=>[m("×")])),_:1})])),_:1})])),_:1})):y("",!0),"full"===l.currentMode?(h(),i(C,{key:2,class:"search-box"},{default:c((()=>[u(C,{class:"search-wrapper"},{default:c((()=>[u(T,{class:"search-input",type:"text",modelValue:l.fullSearchText,"onUpdate:modelValue":t[4]||(t[4]=e=>l.fullSearchText=e),placeholder:"请输入成语/拼音或拼音缩写",onInput:r.onFullSearch},null,8,["modelValue","onInput"]),l.fullSearchText?(h(),i(o,{key:0,class:"clear-icon",onClick:b(r.clearFullSearch,["stop"])},{default:c((()=>[m("×")])),_:1},8,["onClick"])):y("",!0)])),_:1})])),_:1})):y("",!0),"char"===l.currentMode?(h(),i(C,{key:3,class:"char-search"},{default:c((()=>[u(C,{class:"char-inputs"},{default:c((()=>[(h(!0),g(p,null,f(l.charInputs,((e,t)=>(h(),i(C,{key:t,class:"char-input-wrapper"},{default:c((()=>[u(T,{class:"char-input",type:"text",modelValue:l.charInputs[t],"onUpdate:modelValue":e=>l.charInputs[t]=e,placeholder:String(t+1),maxlength:"1",onInput:r.onCharSearch},null,8,["modelValue","onUpdate:modelValue","placeholder","onInput"])])),_:2},1024)))),128))])),_:1}),u(C,{class:"char-search-actions"},{default:c((()=>[u(o,{class:"tip"},{default:c((()=>[m("请输入要查询的汉字，空格代表任意字")])),_:1}),r.hasCharInput?(h(),i(o,{key:0,class:"clear-all",onClick:r.clearAllChar},{default:c((()=>[m("清空全部")])),_:1},8,["onClick"])):y("",!0)])),_:1})])),_:1})):y("",!0),u(x,{class:"idiom-list","scroll-y":"",onScrolltolower:r.loadMore},{default:c((()=>[l.searchResults.length>0?(h(),i(C,{key:0,class:"result-count-cell"},{default:c((()=>[u(o,{class:"result-count"},{default:c((()=>[m("找到 "+_(l.allResults.length)+" 个结果",1)])),_:1})])),_:1})):y("",!0),(h(!0),g(p,null,f(l.searchResults,((e,t)=>(h(),i(C,{key:t,onClick:t=>r.showDetail(e),"hover-class":"cell-hover",class:"cell-content"},{default:c((()=>[u(C,{class:"idiom-content"},{default:c((()=>[u(C,{class:"idiom-header"},{default:c((()=>[u(o,{class:"idiom-word"},{default:c((()=>[m(_(e.word),1)])),_:2},1024),u(o,{class:"idiom-pinyin"},{default:c((()=>[m(_(e.pinyin),1)])),_:2},1024)])),_:2},1024),u(o,{class:"idiom-brief"},{default:c((()=>[m(_(e.explanation),1)])),_:2},1024)])),_:2},1024),u(o,{class:"cell-arrow"},{default:c((()=>[m("›")])),_:1})])),_:2},1032,["onClick"])))),128)),l.isLoadingMore?(h(),i(C,{key:1,class:"loading-cell"},{default:c((()=>[u(C,{class:"loading-more"},{default:c((()=>[u(o,{class:"loading-icon"},{default:c((()=>[m("🔄")])),_:1}),u(o,{class:"loading-text"},{default:c((()=>[m("加载中...")])),_:1})])),_:1})])),_:1})):y("",!0),!l.hasMore&&l.searchResults.length>0?(h(),i(C,{key:2,class:"no-more-cell"},{default:c((()=>[u(o,{class:"no-more-text"},{default:c((()=>[m("没有更多了")])),_:1})])),_:1})):y("",!0),0===l.searchResults.length&&(l.fullSearchText||r.hasCharInput)?(h(),i(C,{key:3,class:"no-result"},{default:c((()=>[m(" 未找到相关成语 ")])),_:1})):y("",!0)])),_:1},8,["onScrolltolower"]),l.showPopup?(h(),i(C,{key:4,class:"popup"},{default:c((()=>[u(C,{class:"popup-content"},{default:c((()=>[u(C,{class:"popup-header"},{default:c((()=>[u(C,{class:"popup-title-group"},{default:c((()=>[u(o,{class:"popup-title"},{default:c((()=>[m(_(l.currentIdiom.word),1)])),_:1}),u(o,{class:"popup-pinyin"},{default:c((()=>[m(_(l.currentIdiom.pinyin),1)])),_:1})])),_:1})])),_:1}),u(x,{class:"popup-body","scroll-y":""},{default:c((()=>[u(C,{class:"detail-item"},{default:c((()=>[u(o,{class:"label"},{default:c((()=>[m("📖 释义")])),_:1}),u(o,{class:"value"},{default:c((()=>[m(_(l.currentIdiom.explanation),1)])),_:1})])),_:1}),u(C,{class:"detail-item"},{default:c((()=>[u(o,{class:"label"},{default:c((()=>[m("💬 例句")])),_:1}),u(o,{class:"value"},{default:c((()=>[m(_(l.currentIdiom.example),1)])),_:1})])),_:1}),u(C,{class:"detail-item"},{default:c((()=>[u(o,{class:"label"},{default:c((()=>[m("📜 出处")])),_:1}),u(o,{class:"value"},{default:c((()=>[m(_(l.currentIdiom.derivation),1)])),_:1})])),_:1})])),_:1})])),_:1}),u(C,{class:"close-btn-wrapper"},{default:c((()=>[u(o,{class:"close-btn",onClick:t[5]||(t[5]=e=>l.showPopup=!1)})])),_:1})])),_:1})):y("",!0),l.isLoading?(h(),i(C,{key:5,class:"loading-mask"},{default:c((()=>[u(C,{class:"loading-content"},{default:c((()=>[u(o,{class:"loading-icon"},{default:c((()=>[m("🔄")])),_:1}),u(o,{class:"loading-text"},{default:c((()=>[m("正在筛选...")])),_:1})])),_:1})])),_:1})):y("",!0),l.showGamePanel?(h(),i(C,{key:6,class:"game-panel"},{default:c((()=>[u(C,{class:"game-panel-content"},{default:c((()=>[u(C,{class:"game-panel-header"},{default:c((()=>[u(C,{class:"game-panel-title-group"},{default:c((()=>[u(o,{class:"game-panel-title"},{default:c((()=>[m("成语接龙")])),_:1}),u(o,{class:"game-panel-subtitle"},{default:c((()=>[m("以前一个成语的末字开始")])),_:1})])),_:1})])),_:1}),u(x,{class:"game-panel-body","scroll-y":""},{default:c((()=>[u(C,{class:"game-history"},{default:c((()=>[(h(!0),g(p,null,f(l.gameHistory,((e,t)=>(h(),i(C,{key:t,class:n(["game-record",{player:e.isPlayer}])},{default:c((()=>[u(o,{class:"game-record-word"},{default:c((()=>[m(_(e.word),1)])),_:2},1024),u(o,{class:"game-record-pinyin"},{default:c((()=>[m(_(e.pinyin),1)])),_:2},1024)])),_:2},1032,["class"])))),128))])),_:1}),l.gameOver?y("",!0):(h(),i(C,{key:0,class:"game-input-area"},{default:c((()=>[u(C,{class:"game-input-wrapper"},{default:c((()=>[u(T,{class:"game-input",type:"text",modelValue:l.gameInput,"onUpdate:modelValue":t[6]||(t[6]=e=>l.gameInput=e),placeholder:r.getGamePlaceholder(),onConfirm:r.submitAnswer},null,8,["modelValue","placeholder","onConfirm"])])),_:1}),u(C,{class:"game-actions"},{default:c((()=>[u(o,{class:"game-tip"},{default:c((()=>[m(_(l.gameTip),1)])),_:1}),u(C,{class:"game-buttons"},{default:c((()=>[u(o,{class:"game-submit-btn",onClick:r.submitAnswer},{default:c((()=>[m("确定")])),_:1},8,["onClick"]),0===l.gameHistory.length?(h(),i(o,{key:0,class:"game-computer-first-btn",onClick:r.computerFirst},{default:c((()=>[m("电脑先出")])),_:1},8,["onClick"])):y("",!0),l.gameHistory.length>0?(h(),i(o,{key:1,class:"game-give-up-btn",onClick:r.giveUpGame},{default:c((()=>[m("放弃")])),_:1},8,["onClick"])):y("",!0)])),_:1})])),_:1})])),_:1})),l.gameOver?(h(),i(C,{key:1,class:"game-over"},{default:c((()=>[u(o,{class:"game-over-title"},{default:c((()=>[m("游戏结束")])),_:1}),u(o,{class:"game-over-score"},{default:c((()=>[m("得分："+_(l.gameScore),1)])),_:1}),u(C,{class:"game-over-stats"},{default:c((()=>[u(C,{class:"game-stat-item"},{default:c((()=>[u(o,{class:"game-stat-value"},{default:c((()=>[m(_(l.gameOverStats.totalWords),1)])),_:1}),u(o,{class:"game-stat-label"},{default:c((()=>[m("总回合")])),_:1})])),_:1}),u(C,{class:"game-stat-item"},{default:c((()=>[u(o,{class:"game-stat-value"},{default:c((()=>[m(_(l.gameOverStats.playerWords),1)])),_:1}),u(o,{class:"game-stat-label"},{default:c((()=>[m("你的成语")])),_:1})])),_:1}),u(C,{class:"game-stat-item"},{default:c((()=>[u(o,{class:"game-stat-value"},{default:c((()=>[m(_(l.gameOverStats.averageScore),1)])),_:1}),u(o,{class:"game-stat-label"},{default:c((()=>[m("平均得分")])),_:1})])),_:1})])),_:1}),u(o,{class:"game-over-tip"},{default:c((()=>[m(_(l.gameOverTip),1)])),_:1}),u(C,{class:"game-over-btns"},{default:c((()=>[u(o,{class:"game-over-btn",onClick:r.restartGame},{default:c((()=>[m("再来一局")])),_:1},8,["onClick"]),u(o,{class:"game-over-btn",onClick:t[7]||(t[7]=e=>l.showGamePanel=!1)},{default:c((()=>[m("退出游戏")])),_:1})])),_:1})])),_:1})):y("",!0)])),_:1})])),_:1}),u(C,{class:"close-btn-wrapper"},{default:c((()=>[u(o,{class:"close-btn",onClick:r.exitGame},{default:c((()=>[m("×")])),_:1},8,["onClick"])])),_:1})])),_:1})):y("",!0)])),_:1},8,["class"])}],["__scopeId","data-v-2cd305ad"]]);export{R as default};
