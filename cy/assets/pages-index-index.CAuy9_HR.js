import{d as e,g as t,s,a,b as r,u as l,c as o,w as i,n as c,_ as n,o as d,e as h,f as u,h as m,r as g,F as f,i as p,j as y,t as b,k as _,l as v,I as k,m as w}from"./index-Bg5hV1pY.js";function S(e,t,s,a){return new(s||(s=Promise))((function(r,l){function o(e){try{c(a.next(e))}catch(t){l(t)}}function i(e){try{c(a.throw(e))}catch(t){l(t)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,i)}c((a=a.apply(e,t||[])).next())}))}"function"==typeof SuppressedError&&SuppressedError;class T{constructor(e,t,s){this.label=e,this.value=t,this.icon=s}}const C=e({data:()=>({searchModes:[new T("完整搜索","full","🔍"),new T("按字搜索","char","📝"),new T("分类筛选","category","📑")],currentMode:"full",fullSearchText:"",charInputs:["","","",""],idiomList:[],searchResults:[],showPopup:!1,currentIdiom:{},timer:null,currentTheme:"light",showThemePanel:!1,themes:{light:{name:"浅色",value:"light",icon:"☀️",colors:{primary:"#3b82f6",secondary:"#60a5fa",background:"#f8fafc",cardBg:"#ffffff",textPrimary:"#1e293b",textSecondary:"#64748b",border:"#e2e8f0",inputBg:"#f1f5f9"}},dark:{name:"深色",value:"dark",icon:"🌙",colors:{primary:"#2563eb",secondary:"#3b82f6",background:"#0f172a",cardBg:"#1e293b",textPrimary:"#f1f5f9",textSecondary:"#94a3b8",border:"#334155",inputBg:"#1e293b"}},blue:{name:"天空",value:"blue",icon:"🌊",colors:{primary:"#0ea5e9",secondary:"#38bdf8",background:"#f0f9ff",cardBg:"#ffffff",textPrimary:"#0c4a6e",textSecondary:"#0369a1",border:"#bae6fd",inputBg:"#e0f2fe"}},green:{name:"森林",value:"green",icon:"🌿",colors:{primary:"#059669",secondary:"#10b981",background:"#f0fdf4",cardBg:"#ffffff",textPrimary:"#064e3b",textSecondary:"#065f46",border:"#a7f3d0",inputBg:"#d1fae5"}},purple:{name:"紫晶",value:"purple",icon:"💜",colors:{primary:"#7c3aed",secondary:"#8b5cf6",background:"#f5f3ff",cardBg:"#ffffff",textPrimary:"#4c1d95",textSecondary:"#6d28d9",border:"#ddd6fe",inputBg:"#ede9fe"}},orange:{name:"日落",value:"orange",icon:"🌅",colors:{primary:"#ea580c",secondary:"#f97316",background:"#fff7ed",cardBg:"#ffffff",textPrimary:"#7c2d12",textSecondary:"#c2410c",border:"#fed7aa",inputBg:"#ffedd5"}},pink:{name:"樱花",value:"pink",icon:"🌸",colors:{primary:"#db2777",secondary:"#ec4899",background:"#fdf2f8",cardBg:"#ffffff",textPrimary:"#831843",textSecondary:"#be185d",border:"#fbcfe8",inputBg:"#fce7f3"}},cyan:{name:"海洋",value:"cyan",icon:"🌊",colors:{primary:"#0891b2",secondary:"#06b6d4",background:"#ecfeff",cardBg:"#ffffff",textPrimary:"#164e63",textSecondary:"#155e75",border:"#a5f3fc",inputBg:"#cffafe"}},red:{name:"红色",value:"red",icon:"🔴",colors:{primary:"#dc2626",secondary:"#ef4444",background:"#fef2f2",cardBg:"#ffffff",textPrimary:"#7f1d1d",textSecondary:"#b91c1c",border:"#fecaca",inputBg:"#fee2e2"}}},showCategoryPanel:!1,currentCategory:"",categories:[{name:"全部",value:"",description:"所有成语"},{name:"褒义",value:"positive",description:"褒奖、赞扬"},{name:"贬义",value:"negative",description:"贬低、讽刺"},{name:"中性",value:"neutral",description:"中性成语"},{name:"人物",value:"character",description:"描述人物"},{name:"事物",value:"object",description:"描述事物特征"},{name:"景色",value:"scenery",description:"描述自然景色"},{name:"心情",value:"emotion",description:"描述心情感受"},{name:"行为",value:"behavior",description:"描述行为动作"}],isLoading:!1,showGamePanel:!1,gameHistory:[],gameInput:"",gameTip:"",gameOver:!1,gameScore:0,gameOverTip:"",usedWords:new Set,gameOverStats:{totalWords:0,playerWords:0,averageScore:0},pageSize:20,currentPage:1,isRefreshing:!1,isLoadingMore:!1,hasMore:!0,allResults:[],showLoadingMask:!1,isInitialLoading:!1,isSearchLoading:!1}),onLoad(e){try{this.loadIdiomData();const e=t("theme");"string"==typeof e&&""!==e?this.setTheme(e):this.setTheme("light")}catch(s){console.error("onLoad error:",s),this.setTheme("light")}},computed:{hasCharInput(){return Boolean(this.charInputs.some((e=>""!==e.trim())))}},methods:{loadIdiomData(){return S(this,void 0,void 0,(function*(){this.isInitialLoading=!0,this.showLoadingMask=!0,setTimeout((()=>{this.isLoading=!0}),50);try{yield new Promise((e=>setTimeout(e,1e3)));const e=yield fetch("/static/data/idiom.json").catch((()=>null));if(!e)throw new Error("Failed to fetch data");if(!e.ok)throw new Error("Network response was not ok");const t=yield e.json().catch((()=>null));if(!t)throw new Error("Failed to parse JSON data");if(!Array.isArray(t))throw new Error("数据格式错误");this.idiomList=t}catch(e){console.error("加载成语数据失败:",e),alert("数据加载失败，请重试")}finally{this.isLoading=!1,this.isInitialLoading=!1,setTimeout((()=>{this.showLoadingMask=!1}),500)}}))},switchMode(e){if("category"===e)return this.showCategoryPanel=!0,null;this.currentMode=e,this.searchResults=[],this.fullSearchText="",this.charInputs=["","","",""]},onFullSearch(e){null!==this.timer&&clearTimeout(this.timer),this.timer=Number(setTimeout((()=>{this.searchIdioms()}),300))},onCharSearch(){null!==this.timer&&clearTimeout(this.timer),this.timer=Number(setTimeout((()=>{this.searchByChars()}),300))},searchIdioms(){if(!this.fullSearchText.trim()&&!this.currentCategory)return this.allResults=[],this.searchResults=[],this.hasMore=!1,null;this.isSearchLoading=!0,setTimeout((()=>{try{if(!this.idiomList||0===this.idiomList.length)throw new Error("成语数据尚未加载完成");const e=this.fullSearchText.toLowerCase();this.allResults=this.idiomList.filter((t=>{var s,a;return!(this.currentCategory&&!this.checkCategory(t,this.currentCategory))&&(!e||(t.word.includes(e)||(null===(s=t.abbreviation)||void 0===s?void 0:s.toLowerCase().includes(e))||this.removeTone((null===(a=t.pinyin)||void 0===a?void 0:a.toLowerCase())||"").includes(e)))})),this.searchResults=this.allResults.slice(0,this.pageSize),this.hasMore=this.allResults.length>this.pageSize}catch(e){console.error("搜索失败:",e),s({title:"搜索失败，请重试",icon:"none"})}finally{this.isSearchLoading=!1}}),1e3)},searchByChars(){if(!this.charInputs.some((e=>e.trim())))return this.allResults=[],this.searchResults=[],this.hasMore=!1,null;this.isSearchLoading=!0,setTimeout((()=>{try{if(!this.idiomList||0===this.idiomList.length)throw new Error("成语数据尚未加载完成");this.allResults=this.idiomList.filter((e=>{const t=(null==e?void 0:e.word)||"",s=((null==e?void 0:e.abbreviation)||"").toLowerCase();((null==e?void 0:e.pinyin)||"").toLowerCase();return this.charInputs.every(((e,a)=>!e.trim()||(/[a-zA-Z]/.test(e)?s[a]===e.toLowerCase():t[a]===e)))})),this.searchResults=this.allResults.slice(0,this.pageSize),this.hasMore=this.allResults.length>this.pageSize}catch(e){console.error("搜索失败:",e),s({title:"搜索失败，请重试",icon:"none"})}finally{this.isSearchLoading=!1}}),1e3)},showDetail(e){this.currentIdiom=e,this.showPopup=!0},removeTone:(e=null)=>e.replace(/ā|á|ǎ|à/g,"a").replace(/ō|ó|ǒ|ò/g,"o").replace(/ē|é|ě|è/g,"e").replace(/ī|í|ǐ|ì/g,"i").replace(/ū|ú|ǔ|ù/g,"u").replace(/ǖ|ǘ|ǚ|ǜ/g,"ü").replace(/ń|ň|ǹ/g,"n").replace(/ḿ/g,"m"),clearFullSearch(){this.fullSearchText="",this.searchResults=[]},clearAllChar(){this.charInputs=["","","",""],this.searchResults=[]},setTheme(e){this.themes[e]&&["light","dark","blue","green","purple","orange","pink","cyan","red"].includes(e)?this.currentTheme=e:this.currentTheme="light"},switchTheme(e){this.setTheme(e),a("theme",e),s({title:"主题切换成功",icon:"none",duration:1500})},filterByCategory(e){this.currentCategory=e,this.showCategoryPanel=!1,this.isSearchLoading=!0,setTimeout((()=>{try{this.fullSearchText||this.hasCharInput?"full"===this.currentMode?this.searchIdioms():this.searchByChars():e?(this.allResults=this.idiomList.filter((t=>this.checkCategory(t,e))),this.searchResults=this.allResults.slice(0,this.pageSize),this.hasMore=this.allResults.length>this.pageSize):(this.allResults=this.idiomList,this.searchResults=this.allResults.slice(0,this.pageSize),this.hasMore=this.allResults.length>this.pageSize)}catch(t){console.error("分类筛选失败:",t),s({title:"筛选失败，请重试",icon:"none"})}finally{this.isSearchLoading=!1}}),1e3)},checkCategory(e,t){const s=e.explanation+e.example;switch(t){case"positive":const t=/(讽刺|讥讽|嘲笑|贬低|责备|批评)/;return[/褒义词|含褒义/,/赞(扬|颂|美|叹|许|赏)/,/(正直|诚实|善良|勤奋|谦虚|勇敢|忠诚|仁慈|孝顺)/,/(智慧|聪明|才华|能干|精明|擅长|出众|卓越)/,/(高尚|崇高|优秀|杰出|完美|高洁|清廉)/,/(光荣|昌盛|和谐|美好|祥和|欣欣向荣)/].some((e=>e.test(s)))&&!t.test(s);case"negative":const a=/(赞|良好|优秀|杰出|高洁)/;return[/贬义词|含贬义/,/(讽刺|讥讽|嘲笑|贬低|责备|批评)/,/(虚伪|狡猾|懒惰|傲慢|自私|怯懦|奸诈|刻薄)/,/(欺骗|诽谤|中伤|诋毁|谩骂|欺凌|作恶)/,/(糟糕|恶劣|低劣|卑劣|恶毒|混乱|堕落)/,/(乱|假|偷|骗|假冒|伪|劣)/].some((e=>e.test(s)))&&!a.test(s);case"character":return[/(品格|品质|品德|人品|德行|气质)/,/(性格|脾气|个性|秉性|为人)/,/(才能|能力|本领|技艺|技能)/,/(智慧|聪明|才华|贤良|贤德)/,/(胸怀|胸襟|概|气节|气度)/].some((e=>e.test(s)));case"object":return[/形容.*(物|事物|东西)/,/(物品|器物|实).*(状态|特征|样子)/,/(景物|器具|用具)/,/比喻.*(物品|东西|事物)/].some((e=>e.test(s)));case"scenery":return[/(景色|景象|风景|景致|风光)/,/(山水|云霞|日月|星辰|草木)/,/(江山|河流|湖泊|山川|大地)/,/描写.*(景色|景象|自然)/,/形容.*(景色|景象|自然)/].some((e=>e.test(s)));case"emotion":return[/(心情|感情|情绪|心境|感受)/,/(喜悦|欢乐|悲伤|愤怒|焦虑)/,/(心理|心境|态|心绪|事)/,/(高兴|快乐|痛苦|忧愁|烦恼)/,/形容.*(心情|感受|情绪)/].some((e=>e.test(s)));case"behavior":return[/(行为|举止|动作|表现|态度)/,/(言行|举动|行动|作为|做法)/,/(处事|待人|接物|行事|举措)/,/形容.*(行为|举止|动作)/,/描述.*(行为|举止|动作)/].some((e=>e.test(s)));case"neutral":return!this.checkCategory(e,"positive")&&!this.checkCategory(e,"negative");default:return!0}},startGame(){this.resetGame(),this.gameTip="请输入任意成语开始游戏",this.showGamePanel=!0},exitGame(){this.gameHistory.length>0&&!this.gameOver?r(new UTSJSONObject({title:"提示",content:"退出后将重新开始游戏，确定要退出吗？",success:e=>{e.confirm&&(this.showGamePanel=!1,this.resetGame())}})):this.showGamePanel=!1},restartGame(){this.resetGame(),this.gameTip="请输入任意成语开始游戏"},getGamePlaceholder(){if(0===this.gameHistory.length)return"请输入任意成语开始游戏";const e=this.gameHistory[this.gameHistory.length-1].word,t=e[e.length-1];return'请输入以"'.concat(t,'"开头的成语')},submitAnswer(){const e=this.gameInput.trim();if(!e)return this.gameTip="请输入成语",null;const t=UTS.arrayFind(this.idiomList,(t=>t.word===e));if(!t)return this.gameTip="未找到该成语",null;if(this.usedWords.has(e))return this.gameTip="该成语已经使用过了",null;if(this.gameHistory.length>0){const t=this.gameHistory[this.gameHistory.length-1].word,s=t[t.length-1];if(e[0]!==s)return this.gameTip='请输入以"'.concat(s,'"开头的成语'),null}this.gameTip="",this.gameHistory.push({word:e,pinyin:t.pinyin,isPlayer:!0}),this.usedWords.add(e),this.gameScore+=10,this.gameInput="",setTimeout((()=>{this.scrollToBottom()}),100),this.computerAnswer(e[e.length-1])},computerAnswer(e){const t=this.idiomList.filter((t=>t.word[0]===e&&!this.usedWords.has(t.word)));if(0===t.length)return this.gameOver=!0,this.gameOverTip="恭喜你赢了！电脑找不到其他的成语了！",this.updateGameStats(),null;const s=t[Math.floor(Math.random()*t.length)];this.gameHistory.push({word:s.word,pinyin:s.pinyin,isPlayer:!1}),this.usedWords.add(s.word),setTimeout((()=>{this.scrollToBottom()}),100);const a=s.word[s.word.length-1];this.idiomList.some((e=>e.word[0]===a&&!this.usedWords.has(e.word)))||(this.gameOver=!0,this.gameOverTip="游戏结束，电脑赢了！你没有可用的成语了。",this.updateGameStats())},updateGameStats(){const e=this.gameHistory.length,t=this.gameHistory.filter((e=>e.isPlayer)).length;this.gameOverStats={totalWords:e,playerWords:t,averageScore:Math.round(this.gameScore/t)||0}},giveUpGame(){r(new UTSJSONObject({title:"提示",content:"确定放弃本局戏吗？",success:e=>{if(e.confirm){this.gameOver=!0,this.gameOverTip="已放弃本局游戏";const e=this.gameHistory.length,t=this.gameHistory.filter((e=>e.isPlayer)).length;this.gameOverStats={totalWords:e,playerWords:t,averageScore:Math.round(this.gameScore/t)||0}}}}))},endGame(e){this.gameOver=!0,this.gameOverTip=e;const t=this.gameHistory.length,s=this.gameHistory.filter((e=>e.isPlayer)).length;this.gameOverStats={totalWords:t,playerWords:s,averageScore:Math.round(this.gameScore/s)||0}},loadMore(){return S(this,void 0,void 0,(function*(){if(!this.hasMore||this.isLoadingMore)return Promise.resolve(null);this.isLoadingMore=!0;try{yield new Promise((e=>setTimeout(e,1500)));const e=this.searchResults.length,t=this.allResults.slice(e,e+this.pageSize);setTimeout((()=>{this.searchResults.push(...t),this.hasMore=this.searchResults.length<this.allResults.length,this.isLoadingMore=!1}),100)}catch(e){console.error("加载更多失败:",e),this.isLoadingMore=!1}}))},refresh(){return S(this,void 0,void 0,(function*(){if(this.isRefreshing)return Promise.resolve(null);this.isRefreshing=!0,yield new Promise((e=>setTimeout(e,1e3))),"full"===this.currentMode?this.searchIdioms():this.searchByChars(),this.isRefreshing=!1}))},scrollToBottom(){setTimeout((()=>{const e=document.querySelector(".game-panel-body");e&&(e.scrollTop=e.scrollHeight)}),100)},resetGame(){this.gameHistory=[],this.gameInput="",this.gameTip="",this.gameOver=!1,this.gameScore=0,this.gameOverTip="",this.usedWords.clear(),this.gameOverStats={totalWords:0,playerWords:0,averageScore:0}},computerFirst(){const e=Math.floor(Math.random()*this.idiomList.length),t=this.idiomList[e];this.gameHistory.push({word:t.word,pinyin:t.pinyin,isPlayer:!1}),this.usedWords.add(t.word);const s=t.word[t.word.length-1];this.gameTip='请输入以"'.concat(s,'"开头的成语'),setTimeout((()=>{this.scrollToBottom()}),100)},setLoading(e,t=0){t?setTimeout((()=>{this.isLoading=e}),t):this.isLoading=e}}}),x=()=>{l(((e=null)=>new UTSJSONObject({"32a397ce":e.themes.red.colors.primary,"552fb840":e.themes.red.colors.secondary,"2fd4303c":e.themes.red.colors.background,af11e7ae:e.themes.red.colors.cardBg,"736167e1":e.themes.red.colors.textPrimary,"5db9cf93":e.themes.red.colors.textSecondary,b0f0fe40:e.themes.red.colors.border,"8c29c10a":e.themes.red.colors.inputBg,"9f407d2e":e.themes.light.colors.primary,"5487e71b":e.themes.light.colors.secondary,"5878d732":e.themes.light.colors.background,"43dc79a4":e.themes.light.colors.cardBg,"052d6808":e.themes.light.colors.textPrimary,f54dce24:e.themes.light.colors.textSecondary,"45bb9036":e.themes.light.colors.border,"37a74916":e.themes.light.colors.inputBg,c4a5fd62:e.themes.dark.colors.primary,"2384c581":e.themes.dark.colors.secondary,"373afa7e":e.themes.dark.colors.background,"27c9ee88":e.themes.dark.colors.cardBg,"00a828e2":e.themes.dark.colors.textPrimary,97575758:e.themes.dark.colors.textSecondary,"26da633f":e.themes.dark.colors.border,"24f488fc":e.themes.dark.colors.inputBg,"1d2f5beb":e.themes.blue.colors.primary,"684a2dc6":e.themes.blue.colors.secondary,"46d0d2a5":e.themes.blue.colors.background,c0f85f28:e.themes.blue.colors.cardBg,"27f85504":e.themes.blue.colors.textPrimary,"377749f0":e.themes.blue.colors.textSecondary,c2d775ba:e.themes.blue.colors.border,b71238d0:e.themes.blue.colors.inputBg,beb12048:e.themes.green.colors.primary,"519dc4ce":e.themes.green.colors.secondary,"79696d14":e.themes.green.colors.background,"61b0fa5b":e.themes.green.colors.cardBg,"0c7e88ef":e.themes.green.colors.textPrimary,"2412e521":e.themes.green.colors.textSecondary,"60c16f12":e.themes.green.colors.border,"27eef789":e.themes.green.colors.inputBg,"0c3468ee":e.themes.purple.colors.primary,"54b3e93b":e.themes.purple.colors.secondary,"4dd05372":e.themes.purple.colors.background,"6491f50e":e.themes.purple.colors.cardBg,bac573c8:e.themes.purple.colors.textPrimary,a511e9e4:e.themes.purple.colors.textSecondary,"63a269c5":e.themes.purple.colors.border,fda55994:e.themes.purple.colors.inputBg,"71a1bad7":e.themes.orange.colors.primary,"659d85ee":e.themes.orange.colors.secondary,"7044fc39":e.themes.orange.colors.background,"05d83800":e.themes.orange.colors.cardBg,"1dd6432c":e.themes.orange.colors.textPrimary,"3c69c7dc":e.themes.orange.colors.textSecondary,"07b74e92":e.themes.orange.colors.border,"0e2d7af8":e.themes.orange.colors.inputBg,"23912f4f":e.themes.pink.colors.primary,"7dd518fe":e.themes.pink.colors.secondary,"0e30d67e":e.themes.pink.colors.background,"5da80088":e.themes.pink.colors.cardBg,"7cc556e2":e.themes.pink.colors.textPrimary,c443fb58:e.themes.pink.colors.textSecondary,"5cb8753f":e.themes.pink.colors.border,aa4e9208:e.themes.pink.colors.inputBg,f1c4a3fc:e.themes.cyan.colors.primary,"737d1174":e.themes.cyan.colors.secondary,d91895a4:e.themes.cyan.colors.background,"06075f75":e.themes.cyan.colors.cardBg,"33bd4415":e.themes.cyan.colors.textPrimary,"768f6ec7":e.themes.cyan.colors.textSecondary,"0517d42c":e.themes.cyan.colors.border,"0e6535af":e.themes.cyan.colors.inputBg})))},P=C.setup;C.setup=P?(e,t)=>(x(),P(e,t)):x;const L=((e,t)=>{const s=e.__vccOpts||e;for(const[a,r]of t)s[a]=r;return s})(C,[["render",function(e,t,s,a,r,l){const S=_,T=n,C=v,x=k;return d(),o(T,{class:c(["container",r.currentTheme])},{default:i((()=>[h(T,{class:"header"},{default:i((()=>[h(T,{class:"header-content"},{default:i((()=>[h(S,{class:"logo"},{default:i((()=>[u("📚")])),_:1}),h(T,{class:"header-text"},{default:i((()=>[h(S,{class:"title"},{default:i((()=>[u("成语词典")])),_:1}),h(S,{class:"subtitle"},{default:i((()=>[u("传统文化 • 寓教于乐")])),_:1})])),_:1}),h(T,{class:"game-btn",onClick:t[0]||(t[0]=e=>r.showGamePanel=!0)},{default:i((()=>[h(S,{class:"game-icon"},{default:i((()=>[u("🎮")])),_:1})])),_:1})])),_:1})])),_:1}),h(T,{class:"theme-fab",onClick:t[1]||(t[1]=e=>r.showThemePanel=!0)},{default:i((()=>[h(S,{class:"theme-fab-icon"},{default:i((()=>[u("🎨")])),_:1})])),_:1}),r.showThemePanel?(d(),o(T,{key:0,class:"theme-panel"},{default:i((()=>[h(T,{class:"theme-panel-content"},{default:i((()=>[h(T,{class:"theme-panel-header"},{default:i((()=>[h(T,{class:"theme-panel-title-group"},{default:i((()=>[h(S,{class:"theme-panel-title"},{default:i((()=>[u("主题设置")])),_:1})])),_:1})])),_:1}),h(C,{class:"theme-panel-body","scroll-y":""},{default:i((()=>[h(T,{class:"theme-grid"},{default:i((()=>[(d(!0),m(f,null,g(r.themes,((e,t)=>(d(),o(T,{key:t,class:c(["theme-grid-item",{active:r.currentTheme===t}]),onClick:e=>l.switchTheme(t)},{default:i((()=>[h(T,{class:"theme-preview",style:w({background:"linear-gradient(135deg, ".concat(e.colors.primary,", ").concat(e.colors.secondary,")")})},{default:i((()=>[r.currentTheme===t?(d(),o(S,{key:0,class:"theme-check"},{default:i((()=>[u("✓")])),_:1})):p("",!0)])),_:2},1032,["style"]),h(S,{class:"theme-name"},{default:i((()=>[u(b(e.name),1)])),_:2},1024)])),_:2},1032,["class","onClick"])))),128))])),_:1})])),_:1})])),_:1}),h(T,{class:"close-btn-wrapper"},{default:i((()=>[h(S,{class:"close-btn",onClick:t[2]||(t[2]=e=>r.showThemePanel=!1)},{default:i((()=>[u("×")])),_:1})])),_:1})])),_:1})):p("",!0),h(T,{class:"search-mode"},{default:i((()=>[(d(!0),m(f,null,g(r.searchModes,((e,t)=>(d(),o(T,{key:t,class:c(["mode-item",("category"===e.value?r.currentCategory:r.currentMode)===e.value?"active":""]),onClick:t=>l.switchMode(e.value)},{default:i((()=>[h(S,{class:"mode-icon"},{default:i((()=>[u(b(e.icon),1)])),_:2},1024),h(S,{class:c(["mode-text",("category"===e.value?r.currentCategory:r.currentMode)===e.value?"active-text":""])},{default:i((()=>{var t;return[u(b("category"===e.value&&r.currentCategory?null==(t=r.categories.find((e=>e.value===r.currentCategory)))?void 0:t.name:e.label),1)]})),_:2},1032,["class"])])),_:2},1032,["class","onClick"])))),128))])),_:1}),r.showCategoryPanel?(d(),o(T,{key:1,class:"category-panel"},{default:i((()=>[h(T,{class:"category-panel-content"},{default:i((()=>[h(T,{class:"category-panel-header"},{default:i((()=>[h(T,{class:"category-panel-title-group"},{default:i((()=>[h(S,{class:"category-panel-title"},{default:i((()=>[u("分类筛选")])),_:1})])),_:1})])),_:1}),h(C,{class:"category-panel-body","scroll-y":""},{default:i((()=>[h(T,{class:"category-list"},{default:i((()=>[(d(!0),m(f,null,g(r.categories,(e=>(d(),o(T,{key:e.value,class:c(["category-item",{active:r.currentCategory===e.value}]),onClick:t=>l.filterByCategory(e.value)},{default:i((()=>[r.currentCategory===e.value?(d(),o(T,{key:0,class:"category-badge"},{default:i((()=>[u("✓")])),_:1})):p("",!0),h(T,{class:"category-item-header"},{default:i((()=>[h(S,{class:"category-item-name"},{default:i((()=>[u(b(e.name),1)])),_:2},1024)])),_:2},1024),h(S,{class:"category-item-desc"},{default:i((()=>[u(b(e.description),1)])),_:2},1024)])),_:2},1032,["class","onClick"])))),128))])),_:1})])),_:1})])),_:1}),h(T,{class:"close-btn-wrapper"},{default:i((()=>[h(S,{class:"close-btn",onClick:t[3]||(t[3]=e=>r.showCategoryPanel=!1)},{default:i((()=>[u("×")])),_:1})])),_:1})])),_:1})):p("",!0),"full"===r.currentMode?(d(),o(T,{key:2,class:"search-box"},{default:i((()=>[h(T,{class:"search-wrapper"},{default:i((()=>[h(x,{class:"search-input",type:"text",modelValue:r.fullSearchText,"onUpdate:modelValue":t[4]||(t[4]=e=>r.fullSearchText=e),placeholder:"请输入成语/拼音或拼音缩写",onInput:l.onFullSearch},null,8,["modelValue","onInput"]),r.fullSearchText?(d(),o(S,{key:0,class:"clear-icon",onClick:y(l.clearFullSearch,["stop"])},{default:i((()=>[u("×")])),_:1},8,["onClick"])):p("",!0)])),_:1})])),_:1})):p("",!0),"char"===r.currentMode?(d(),o(T,{key:3,class:"char-search"},{default:i((()=>[h(T,{class:"char-inputs"},{default:i((()=>[(d(!0),m(f,null,g(r.charInputs,((e,t)=>(d(),o(T,{key:t,class:"char-input-wrapper"},{default:i((()=>[h(x,{class:"char-input",type:"text",modelValue:r.charInputs[t],"onUpdate:modelValue":e=>r.charInputs[t]=e,placeholder:String(t+1),maxlength:"1",onInput:l.onCharSearch},null,8,["modelValue","onUpdate:modelValue","placeholder","onInput"])])),_:2},1024)))),128))])),_:1}),h(T,{class:"char-search-actions"},{default:i((()=>[h(S,{class:"tip"},{default:i((()=>[u("请输入要查询的汉字，空格代表任意字")])),_:1}),l.hasCharInput?(d(),o(S,{key:0,class:"clear-all",onClick:l.clearAllChar},{default:i((()=>[u("清空全部")])),_:1},8,["onClick"])):p("",!0)])),_:1})])),_:1})):p("",!0),h(C,{class:"idiom-list","scroll-y":"",onScrolltolower:l.loadMore},{default:i((()=>[r.isSearchLoading?(d(),o(T,{key:0,class:"loading-cell"},{default:i((()=>[h(T,{class:"search-loading"},{default:i((()=>[h(S,{class:"loading-icon"},{default:i((()=>[u("🔄")])),_:1}),h(S,{class:"loading-text"},{default:i((()=>[u("正在搜索...")])),_:1})])),_:1})])),_:1})):p("",!0),r.searchResults.length>0?(d(),o(T,{key:1,class:"result-count-cell"},{default:i((()=>[h(S,{class:"result-count"},{default:i((()=>[u("找到 "+b(r.allResults.length)+" 个结果",1)])),_:1})])),_:1})):p("",!0),(d(!0),m(f,null,g(r.searchResults,((e,t)=>(d(),o(T,{key:t,onClick:t=>l.showDetail(e),"hover-class":"cell-hover",class:"cell-content"},{default:i((()=>[h(T,{class:"idiom-content"},{default:i((()=>[h(T,{class:"idiom-header"},{default:i((()=>[h(S,{class:"idiom-word"},{default:i((()=>[u(b(e.word),1)])),_:2},1024),h(S,{class:"idiom-pinyin"},{default:i((()=>[u(b(e.pinyin),1)])),_:2},1024)])),_:2},1024),h(S,{class:"idiom-brief"},{default:i((()=>[u(b(e.explanation),1)])),_:2},1024)])),_:2},1024),h(S,{class:"cell-arrow"},{default:i((()=>[u("›")])),_:1})])),_:2},1032,["onClick"])))),128)),r.isLoadingMore?(d(),o(T,{key:2,class:"loading-cell"},{default:i((()=>[h(T,{class:"loading-more"},{default:i((()=>[h(S,{class:"loading-icon"},{default:i((()=>[u("🔄")])),_:1}),h(S,{class:"loading-text"},{default:i((()=>[u("加载中...")])),_:1})])),_:1})])),_:1})):p("",!0),!r.hasMore&&r.searchResults.length>0?(d(),o(T,{key:3,class:"no-more-cell"},{default:i((()=>[h(S,{class:"no-more-text"},{default:i((()=>[u("没有更多了")])),_:1})])),_:1})):p("",!0),0===r.searchResults.length&&(r.fullSearchText||l.hasCharInput)?(d(),o(T,{key:4,class:"no-result"},{default:i((()=>[u(" 未找到相关成语 ")])),_:1})):p("",!0)])),_:1},8,["onScrolltolower"]),r.showPopup?(d(),o(T,{key:4,class:"popup"},{default:i((()=>[h(T,{class:"popup-content"},{default:i((()=>[h(T,{class:"popup-header"},{default:i((()=>[h(T,{class:"popup-title-group"},{default:i((()=>[h(S,{class:"popup-title"},{default:i((()=>[u(b(r.currentIdiom.word),1)])),_:1}),h(S,{class:"popup-pinyin"},{default:i((()=>[u(b(r.currentIdiom.pinyin),1)])),_:1})])),_:1})])),_:1}),h(C,{class:"popup-body","scroll-y":""},{default:i((()=>[h(T,{class:"detail-item"},{default:i((()=>[h(S,{class:"label"},{default:i((()=>[u("📖 释义")])),_:1}),h(S,{class:"value"},{default:i((()=>[u(b(r.currentIdiom.explanation),1)])),_:1})])),_:1}),h(T,{class:"detail-item"},{default:i((()=>[h(S,{class:"label"},{default:i((()=>[u("💬 例句")])),_:1}),h(S,{class:"value"},{default:i((()=>[u(b(r.currentIdiom.example),1)])),_:1})])),_:1}),h(T,{class:"detail-item"},{default:i((()=>[h(S,{class:"label"},{default:i((()=>[u("📜 出处")])),_:1}),h(S,{class:"value"},{default:i((()=>[u(b(r.currentIdiom.derivation),1)])),_:1})])),_:1})])),_:1})])),_:1}),h(T,{class:"close-btn-wrapper"},{default:i((()=>[h(S,{class:"close-btn",onClick:t[5]||(t[5]=e=>r.showPopup=!1)},{default:i((()=>[u("×")])),_:1})])),_:1})])),_:1})):p("",!0),r.showGamePanel?(d(),o(T,{key:5,class:"game-panel"},{default:i((()=>[h(T,{class:"game-panel-content"},{default:i((()=>[h(T,{class:"game-panel-header"},{default:i((()=>[h(T,{class:"game-panel-title-group"},{default:i((()=>[h(S,{class:"game-panel-title"},{default:i((()=>[u("成语接龙")])),_:1}),h(S,{class:"game-panel-subtitle"},{default:i((()=>[u("以前一个成语的末字开始")])),_:1})])),_:1})])),_:1}),h(C,{class:"game-panel-body","scroll-y":""},{default:i((()=>[h(T,{class:"game-history"},{default:i((()=>[(d(!0),m(f,null,g(r.gameHistory,((e,t)=>(d(),o(T,{key:t,class:c(["game-record",{player:e.isPlayer}])},{default:i((()=>[h(S,{class:"game-record-word"},{default:i((()=>[u(b(e.word),1)])),_:2},1024),h(S,{class:"game-record-pinyin"},{default:i((()=>[u(b(e.pinyin),1)])),_:2},1024)])),_:2},1032,["class"])))),128))])),_:1}),r.gameOver?p("",!0):(d(),o(T,{key:0,class:"game-input-area"},{default:i((()=>[h(T,{class:"game-input-wrapper"},{default:i((()=>[h(x,{class:"game-input",type:"text",modelValue:r.gameInput,"onUpdate:modelValue":t[6]||(t[6]=e=>r.gameInput=e),placeholder:l.getGamePlaceholder(),onConfirm:l.submitAnswer},null,8,["modelValue","placeholder","onConfirm"])])),_:1}),h(T,{class:"game-actions"},{default:i((()=>[h(S,{class:"game-tip"},{default:i((()=>[u(b(r.gameTip),1)])),_:1}),h(T,{class:"game-buttons"},{default:i((()=>[h(S,{class:"game-submit-btn",onClick:l.submitAnswer},{default:i((()=>[u("确定")])),_:1},8,["onClick"]),0===r.gameHistory.length?(d(),o(S,{key:0,class:"game-computer-first-btn",onClick:l.computerFirst},{default:i((()=>[u("电脑先出")])),_:1},8,["onClick"])):p("",!0),r.gameHistory.length>0?(d(),o(S,{key:1,class:"game-give-up-btn",onClick:l.giveUpGame},{default:i((()=>[u("放弃")])),_:1},8,["onClick"])):p("",!0)])),_:1})])),_:1})])),_:1})),r.gameOver?(d(),o(T,{key:1,class:"game-over"},{default:i((()=>[h(S,{class:"game-over-title"},{default:i((()=>[u("游戏结束")])),_:1}),h(S,{class:"game-over-score"},{default:i((()=>[u("得分："+b(r.gameScore),1)])),_:1}),h(T,{class:"game-over-stats"},{default:i((()=>[h(T,{class:"game-stat-item"},{default:i((()=>[h(S,{class:"game-stat-value"},{default:i((()=>[u(b(r.gameOverStats.totalWords),1)])),_:1}),h(S,{class:"game-stat-label"},{default:i((()=>[u("总回合")])),_:1})])),_:1}),h(T,{class:"game-stat-item"},{default:i((()=>[h(S,{class:"game-stat-value"},{default:i((()=>[u(b(r.gameOverStats.playerWords),1)])),_:1}),h(S,{class:"game-stat-label"},{default:i((()=>[u("你的成语")])),_:1})])),_:1}),h(T,{class:"game-stat-item"},{default:i((()=>[h(S,{class:"game-stat-value"},{default:i((()=>[u(b(r.gameOverStats.averageScore),1)])),_:1}),h(S,{class:"game-stat-label"},{default:i((()=>[u("平均得分")])),_:1})])),_:1})])),_:1}),h(S,{class:"game-over-tip"},{default:i((()=>[u(b(r.gameOverTip),1)])),_:1}),h(T,{class:"game-over-btns"},{default:i((()=>[h(S,{class:"game-over-btn",onClick:l.restartGame},{default:i((()=>[u("再来一局")])),_:1},8,["onClick"]),h(S,{class:"game-over-btn",onClick:t[7]||(t[7]=e=>r.showGamePanel=!1)},{default:i((()=>[u("退出游戏")])),_:1})])),_:1})])),_:1})):p("",!0)])),_:1})])),_:1}),h(T,{class:"close-btn-wrapper"},{default:i((()=>[h(S,{class:"close-btn",onClick:l.exitGame},{default:i((()=>[u("×")])),_:1},8,["onClick"])])),_:1})])),_:1})):p("",!0),r.isInitialLoading||r.showLoadingMask?(d(),o(T,{key:6,class:c(["loading-mask",{show:r.isLoading}])},{default:i((()=>[h(T,{class:"loading-content"},{default:i((()=>[h(T,{class:"loading-icon"},{default:i((()=>[u("🔄")])),_:1}),h(S,{class:"loading-title"},{default:i((()=>[u("正在加载")])),_:1}),h(S,{class:"loading-subtitle"},{default:i((()=>[u("首次加载可能需要一点时间")])),_:1}),h(S,{class:"loading-tip"},{default:i((()=>[u("请耐心等待下...")])),_:1})])),_:1})])),_:1},8,["class"])):p("",!0)])),_:1},8,["class"])}],["__scopeId","data-v-a8eceff1"]]);export{T as SearchMode,L as default};
