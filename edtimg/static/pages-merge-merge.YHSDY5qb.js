import{h as e,D as t,E as a,j as i,G as l,I as s,J as o,C as n,H as h,U as r,k as c,l as d,a as u,w as g,m,p as f,o as p,c as b,q as w,y as v,v as k,F as I,x as C,A as y,T as _,z as M,P as x,M as R,Q as P,L,V as F,N as S,B as T,K as E,O as W}from"./vendor.CUmXYvjV.js";import{_ as H}from"./_plugin-vue_export-helper.BCo6x5W8.js";const V=H({data:()=>({imageList:[],mergedPath:"",mergeMode:"horizontal",mergeModes:[{label:"æ¨ªå‘",value:"horizontal"},{label:"ç«–å‘",value:"vertical"},{label:"å®«æ ¼",value:"grid"},{label:"äº¤é”™",value:"stagger"},{label:"ç€‘å¸ƒæµ",value:"waterfall"}],outputFormat:"png",outputFormats:[{label:"PNG",value:"png"},{label:"JPEG",value:"jpeg"},{label:"WebP",value:"webp"}],margin:0,spacing:0,borderRadius:0,outputWidth:"",outputHeight:"",backgroundColor:"#ffffff",imageInfos:[],dragIndex:-1,touchStartY:0,touchStartIndex:-1,lastTouchY:0,isDragging:!1,sortable:null,sortableInitialized:!1,canvasWidth:100,canvasHeight:100,keepRatio:!0,originalRatio:0,defaultColors:[{label:"ç™½è‰²",value:"#FFFFFF"},{label:"é»‘è‰²",value:"#000000"},{label:"é€æ˜",value:"transparent"},{label:"æµ…ç°",value:"#F5F5F5"},{label:"æ·±ç°",value:"#666666"}],isPreviewLoading:!0,currentTheme:e("theme")||"light"}),computed:{defaultWidth(){var e,t;if(!(null==(e=this.imageInfos)?void 0:e.length))return"è‡ªåŠ¨";try{switch(this.mergeMode){case"horizontal":return String(this.imageInfos.reduce(((e,t)=>e+((null==t?void 0:t.width)||0)),0));case"vertical":return String(Math.max(...this.imageInfos.map((e=>(null==e?void 0:e.width)||0))));case"grid":const e=Math.ceil(Math.sqrt(this.imageInfos.length)),a=(null==(t=this.imageInfos[0])?void 0:t.width)||0;return String(a*e||"è‡ªåŠ¨");default:return"è‡ªåŠ¨"}}catch(a){return"è‡ªåŠ¨"}},defaultHeight(){var e,t;if(!(null==(e=this.imageInfos)?void 0:e.length))return"è‡ªåŠ¨";try{switch(this.mergeMode){case"horizontal":return String(Math.max(...this.imageInfos.map((e=>(null==e?void 0:e.height)||0))));case"vertical":return String(this.imageInfos.reduce(((e,t)=>e+((null==t?void 0:t.height)||0)),0));case"grid":const e=Math.ceil(Math.sqrt(this.imageInfos.length)),a=(null==(t=this.imageInfos[0])?void 0:t.height)||0;return String(a*e||"è‡ªåŠ¨");default:return"è‡ªåŠ¨"}}catch(a){return"è‡ªåŠ¨"}}},watch:{imageList:{handler(e){e.length>0&&this.$nextTick((()=>{this.initSortable()}))}}},mounted(){},onShow(){this.currentTheme=e("theme")||"light"},methods:{chooseImages(){t({count:9-this.imageList.length,success:e=>{Promise.all(e.tempFilePaths.map((e=>new Promise(((t,i)=>{a({filePath:e,success:t,fail:i})}))))).then((t=>{t.filter((e=>e.size>20971520)).length>0?i({title:"å›¾ç‰‡ä¸èƒ½è¶…è¿‡20MB",icon:"none"}):(this.imageList=[...this.imageList,...e.tempFilePaths],this.mergedPath="",this.getImagesInfo(e.tempFilePaths))}))}})},async getImagesInfo(e){try{const t=await Promise.all(e.map((e=>new Promise(((t,a)=>{l({src:e,success:t,fail:a})})))));this.imageInfos=t,this.calculateOriginalRatio()}catch(t){i({title:"è·å–å›¾ç‰‡ä¿¡æ¯è´¥",icon:"none"})}},calculateOriginalRatio(){if(!this.imageInfos.length)return;let e=0,t=0;const a=Math.max(0,Number(this.margin)||0),i=Math.max(0,Number(this.spacing)||0);switch(this.mergeMode){case"horizontal":e=this.imageInfos.reduce(((e,t)=>e+t.width),0)+2*a+(this.imageInfos.length>1?i*(this.imageInfos.length-1):0),t=Math.max(...this.imageInfos.map((e=>e.height)))+2*a;break;case"vertical":e=Math.max(...this.imageInfos.map((e=>e.width)))+2*a,t=this.imageInfos.reduce(((e,t)=>e+t.height),0)+2*a+(this.imageInfos.length>1?i*(this.imageInfos.length-1):0);break;case"grid":{const l=Math.min(3,Math.ceil(Math.sqrt(this.imageInfos.length))),s=Math.ceil(this.imageInfos.length/l),o=Math.max(...this.imageInfos.map((e=>e.width))),n=Math.max(...this.imageInfos.map((e=>e.height)));e=o*l+2*a+i*(l-1),t=n*s+2*a+i*(s-1);break}case"stagger":{const l=3,s=Math.ceil(this.imageInfos.length/l),o=Math.max(...this.imageInfos.map((e=>e.width))),n=Math.max(...this.imageInfos.map((e=>e.height)));e=5*(o+i)+2*a,t=n*s+2*a+i*(s-1);break}case"waterfall":{const l=Math.min(4,this.imageInfos.length);e=1e3;const s=(e-2*a-i*(l-1))/l,o=new Array(l).fill(a);this.imageInfos.forEach((e=>{const t=e.height/e.width,a=s*t,l=Math.min(...o),n=o.indexOf(l);o[n]+=a+i})),t=Math.max(...o)+a;break}}this.originalRatio=e/t},deleteImage(e){this.imageList.splice(e,1),this.imageInfos.splice(e,1),this.mergedPath=""},async mergeImages(){this.imageList.length<2?i({title:"è¯·è‡³å°‘é€‰æ‹©2å¼ å›¾ç‰‡",icon:"none"}):(s({title:"æ­£åœ¨æ‹¼æ¥...",mask:!0}),setTimeout((async()=>{try{const e=e=>new Promise(((t,a)=>{const i=new Image;i.onload=()=>t(i),i.onerror=a,i.crossOrigin="anonymous",i.src=e})),t=[];for(let a=0;a<this.imageList.length;a++){const i=await e(this.imageList[a]);t.push(i),s({title:`åŠ è½½å›¾ç‰‡ ${a+1}/${this.imageList.length}`,mask:!0})}s({title:"å¤„ç†å›¾ç‰‡...",mask:!0}),requestAnimationFrame((async()=>{try{const e=Math.max(0,Number(this.margin)||0),a=Math.max(0,Number(this.spacing)||0);let l,s;const n=document.createElement("canvas"),h=n.getContext("2d");switch(this.mergeMode){case"horizontal":l=t.reduce(((e,t)=>e+t.width),0)+2*e+(t.length>1?a*(t.length-1):0),s=Math.max(...t.map((e=>e.height)))+2*e,n.width=l,n.height=s,h.fillStyle=this.backgroundColor,h.fillRect(0,0,l,s);let i=e;t.forEach(((t,l)=>{const o=e+(s-2*e-t.height)/2;h.drawImage(t,i,o,t.width,t.height),i+=t.width+a}));break;case"vertical":l=Math.max(...t.map((e=>e.width)))+2*e,s=t.reduce(((e,t)=>e+t.height),0)+2*e+(t.length>1?a*(t.length-1):0),n.width=l,n.height=s,h.fillStyle=this.backgroundColor,h.fillRect(0,0,l,s);let o=e;t.forEach(((t,i)=>{const s=e+(l-2*e-t.width)/2;h.drawImage(t,s,o,t.width,t.height),o+=t.height+a}));break;case"grid":{const i=Math.min(3,Math.ceil(Math.sqrt(t.length))),o=Math.ceil(t.length/i),r=Math.max(...t.map((e=>e.width))),c=Math.max(...t.map((e=>e.height)));l=r*i+2*e+a*(i-1),s=c*o+2*e+a*(o-1),n.width=l,n.height=s,h.fillStyle=this.backgroundColor,h.fillRect(0,0,l,s),t.forEach(((t,l)=>{const s=Math.floor(l/i),o=e+l%i*(r+a),n=e+s*(c+a),d=Math.min(r/t.width,c/t.height),u=t.width*d,g=t.height*d,m=o+(r-u)/2,f=n+(c-g)/2;h.drawImage(t,m,f,u,g)}));break}case"stagger":{const i=3,o=Math.ceil(t.length/i),r=Math.max(...t.map((e=>e.width))),c=Math.max(...t.map((e=>e.height))),d=r+a;l=5*d+2*e,s=c*o+2*e+a*(o-1),n.width=l,n.height=s,h.fillStyle=this.backgroundColor,h.fillRect(0,0,l,s),t.forEach(((t,l)=>{const s=Math.floor(l/i),o=e+(s%2==1?d:0)+l%i*(2*d),n=e+s*(c+a),u=Math.min(r/t.width,c/t.height),g=t.width*u,m=t.height*u,f=o+(r-g)/2,p=n+(c-m)/2;h.drawImage(t,f,p,g,m)}));break}case"waterfall":{const i=Math.min(4,t.length);l=1e3,s=1e3,n.width=l,n.height=s,h.fillStyle=this.backgroundColor,h.fillRect(0,0,l,s);const o=(l-2*e-a*(i-1))/i,r=new Array(i).fill(e);t.forEach((t=>{const i=t.height/t.width,l=o*i,s=Math.min(...r),n=r.indexOf(s),c=e+n*(o+a),d=r[n];h.drawImage(t,c,d,o,l),r[n]+=l+a}));const c=Math.max(...r)+e,d=document.createElement("canvas");d.width=l,d.height=c;const u=d.getContext("2d");u.fillStyle=this.backgroundColor,u.fillRect(0,0,l,c),u.drawImage(n,0,0),n.height=c,s=c,h.fillStyle=this.backgroundColor,h.fillRect(0,0,l,c),h.drawImage(d,0,0);break}}this.borderRadius>0&&this.applyBorderRadius(h,l,s);const r=document.createElement("canvas");r.width=this.outputWidth||l,r.height=this.outputHeight||s;const c=r.getContext("2d");c.fillStyle=this.backgroundColor,c.fillRect(0,0,r.width,r.height),c.drawImage(n,0,0,l,s,0,0,r.width,r.height),this.isPreviewLoading=!0,this.mergedPath=r.toDataURL(`image/${this.outputFormat}`,"jpeg"===this.outputFormat?.8:.9),o(),i({title:"æ‹¼æ¥æˆåŠŸ",icon:"success"})}catch(e){o(),i({title:"æ‹¼æ¥å¤±è´¥",icon:"none"})}}))}catch(e){o(),i({title:"æ‹¼æ¥å¤±è´¥",icon:"none"})}}),100))},onFormatChange(e){this.outputFormat=e.detail.value},onModeChange(e){if(this.mergeMode=e.detail.value,this.calculateOriginalRatio(),this.keepRatio&&this.outputWidth){const e=Number(this.outputWidth);this.outputHeight=String(Math.round(e/this.originalRatio))}},goBack(){n()},previewImage(e){e.startsWith("data:image/")&&h({urls:[e],current:e,fail:t=>{const a=window.open();a&&(a.document.write(`\n              <html>\n                <head>\n                  <title>å›¾ç‰‡é¢„è§ˆ</title>\n                  <meta name="viewport" content="width=device-width, initial-scale=1">\n                  <style scoped>\n                    body {\n                      margin: 0;\n                      padding: 0;\n                      display: flex;\n                      justify-content: center;\n                      align-items: center;\n                      min-height: 100vh;\n                      background: #000;\n                    }\n                    img {\n                      max-width: 100%;\n                      max-height: 100vh;\n                      object-fit: contain;\n                    }\n                  </style>\n                </head>\n                <body>\n                  <img src="${e}" alt="é¢„è§ˆå›¾ç‰‡">\n                </body>\n              </html>\n            `),a.document.close())}})},resetImages(){this.imageList=[],this.mergedPath="",this.imageInfos=[],this.margin=0,this.spacing=0,this.borderRadius=0,this.outputWidth="",this.outputHeight="",this.backgroundColor="#ffffff",this.mergeMode="horizontal",this.outputFormat="png",this.$nextTick((()=>{this.chooseImages()}))},saveImage(){if(this.mergedPath)try{const e=this.mergedPath.split(",")[1],t=atob(e),a=[];for(let i=0;i<t.length;i+=512){const e=t.slice(i,i+512),l=new Array(e.length);for(let t=0;t<e.length;t++)l[t]=e.charCodeAt(t);const s=new Uint8Array(l);a.push(s)}const l=new Blob(a,{type:`image/${this.outputFormat}`}),s=window.URL.createObjectURL(l),o=document.createElement("a");o.href=s;const n=(new Date).getTime();o.download=`merged_image_${n}.${this.outputFormat}`,document.body.appendChild(o),o.click(),document.body.removeChild(o),window.URL.revokeObjectURL(s),i({title:"ä¿å­˜æˆåŠŸ",icon:"success"})}catch(e){i({title:"ä¿å­˜å¤±",icon:"none"})}else i({title:"è¯·å…ˆæ‹¼æ¥å›¾ç‰‡",icon:"none"})},async loadImages(){try{return await Promise.all(this.imageList.map((e=>new Promise(((t,a)=>{const i=new Image;i.onload=()=>t(i),i.onerror=a,i.src=e})))))}catch(e){throw new Error("åŠ è½½å›¾ç‰‡å¤±è´¥")}},createCanvas(e,t){const a=document.createElement("canvas");return a.width=e,a.height=t,a},applyBorderRadius(e,t,a){const i=Number(this.borderRadius);i<=0||(e.globalCompositeOperation="destination-in",e.beginPath(),e.moveTo(i,0),e.lineTo(t-i,0),e.quadraticCurveTo(t,0,t,i),e.lineTo(t,a-i),e.quadraticCurveTo(t,a,t-i,a),e.lineTo(i,a),e.quadraticCurveTo(0,a,0,a-i),e.lineTo(0,i),e.quadraticCurveTo(0,0,i,0),e.closePath(),e.fill(),e.globalCompositeOperation="source-over")},drawImage(e,t,a,i,l,s){e.drawImage(t,a,i,l,s)},calculateGridLayout(){const e=this.imageList.length,t=Math.ceil(Math.sqrt(e));return{cols:t,rows:Math.ceil(e/t)}},onRadiusChange(e){this.borderRadius=e.detail.value},base64ToPath:e=>new Promise(((t,a)=>{const[,i,l]=/data:image\/(\w+);base64,(.*)/.exec(e)||[];if(!i||!l)return void a(new Error("base64 æ ¼å¼é”™è¯¯"));const s=atob(l),o=new Uint8Array(s.length);for(let e=0;e<s.length;e++)o[e]=s.charCodeAt(e);const n=new Blob([o],{type:"image/png"});t(URL.createObjectURL(n))})),initSortable(){if(this.sortableInitialized)return;const e=document.querySelector(".image-list");e&&(this.sortable=r.create(e,{animation:150,filter:".add-image",draggable:".image-item",ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",forceFallback:!0,onEnd:e=>{const{oldIndex:t,newIndex:a}=e;if(t!==a&&!(t<0||a<0||t>=this.imageList.length||a>=this.imageList.length))try{const e=this.imageList.splice(t,1)[0];this.imageList.splice(a,0,e);const i=this.imageInfos.splice(t,1)[0];this.imageInfos.splice(a,0,i),this.mergedPath=""}catch(i){}},scroll:!1,threshold:5,delay:100,delayOnTouchOnly:!0,direction:"horizontal",fallbackOnBody:!0,swapThreshold:.65,invertSwap:!0}),this.sortableInitialized=!0)},beforeDestroy(){this.sortable&&(this.sortable.destroy(),this.sortable=null)},onPreviewError(){this.isPreviewLoading=!1,i({title:"é¢„è§ˆåŠ è½½å¤±è´¥",icon:"none"})},onPreviewLoad(){this.isPreviewLoading=!1},onContextMenu(e){e.preventDefault(),this.saveImageH5()},getImageIndex:e=>e+1,onKeepRatioChange(e){if(this.keepRatio=e.detail.value,this.keepRatio&&this.outputWidth&&this.originalRatio){const e=Number(this.outputWidth);this.outputHeight=String(Math.round(e/this.originalRatio))}},onWidthInput(e){const t=Number(e.detail.value);if(this.keepRatio&&t&&this.originalRatio){const e=Math.round(t/this.originalRatio);this.outputHeight=String(e)}this.outputWidth=String(t)},onHeightInput(e){const t=Number(e.detail.value);if(this.keepRatio&&t&&this.originalRatio){const e=Math.round(t*this.originalRatio);this.outputWidth=String(e)}this.outputHeight=String(t)},selectColor(e){this.backgroundColor=e},toggleTheme(){this.currentTheme="light"===this.currentTheme?"dark":"light",c("theme",this.currentTheme),d({frontColor:"dark"===this.currentTheme?"#ffffff":"#000000",backgroundColor:"dark"===this.currentTheme?"#1a1a1a":"#f5f5f5"})}}},[["render",function(e,t,a,i,l,s){const o=M,n=f,h=E,r=W,c=x,d=R,H=P,V=L,z=F,O=S;return p(),u(n,{class:m(["container",l.currentTheme])},{default:g((()=>[b(n,{class:"header-fixed"},{default:g((()=>[b(n,{class:"back-btn",onClick:s.goBack},{default:g((()=>[b(o,{class:"back-icon"},{default:g((()=>[w("â†")])),_:1})])),_:1},8,["onClick"]),b(o,{class:"title"},{default:g((()=>[w("å›¾ç‰‡æ‹¼æ¥")])),_:1})])),_:1}),b(n,{class:"header-placeholder"}),b(n,{class:"content"},{default:g((()=>[0===l.imageList.length?(p(),u(n,{key:0,class:"upload-box",onClick:s.chooseImages},{default:g((()=>[b(o,{class:"upload-icon"},{default:g((()=>[w("ğŸ“¤")])),_:1}),b(o,{class:"upload-text"},{default:g((()=>[w("ç‚¹å‡»é€‰æ‹©å¤šå¼ å›¾ç‰‡")])),_:1}),b(o,{class:"upload-tip"},{default:g((()=>[w("æ”¯æŒjpgã€pngæ ¼å¼ï¼Œæœ€å¤§20MB")])),_:1})])),_:1},8,["onClick"])):v("",!0),l.imageList.length>0?(p(),k(I,{key:1},[b(n,{class:"image-list",ref:"imageList"},{default:g((()=>[(p(!0),k(I,null,C(l.imageList,((e,t)=>(p(),u(n,{class:"image-item",key:e,"data-index":t},{default:g((()=>[b(h,{src:e,mode:"aspectFill",style:{width:"100%",height:"100%"}},null,8,["src"]),b(n,{class:"image-actions"},{default:g((()=>[b(o,{class:"delete-btn",onClick:e=>s.deleteImage(t)},{default:g((()=>[w("Ã—")])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1032,["data-index"])))),128)),l.imageList.length<9?(p(),u(n,{key:0,class:"add-image",onClick:s.chooseImages},{default:g((()=>[b(o,{class:"add-icon"},{default:g((()=>[w("+")])),_:1})])),_:1},8,["onClick"])):v("",!0)])),_:1},512),b(n,{class:"control-panel"},{default:g((()=>[b(n,{class:"mode-selector"},{default:g((()=>[b(o,{class:"section-title"},{default:g((()=>[w("æ‹¼æ¥æ¨¡å¼")])),_:1}),b(d,{class:"mode-group",onChange:s.onModeChange},{default:g((()=>[(p(!0),k(I,null,C(l.mergeModes,(e=>(p(),u(c,{class:"mode-item",key:e.value},{default:g((()=>[b(r,{value:e.value,checked:l.mergeMode===e.value},null,8,["value","checked"]),b(o,null,{default:g((()=>[w(T(e.label),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1},8,["onChange"])])),_:1}),b(n,{class:"format-selector"},{default:g((()=>[b(o,{class:"section-title"},{default:g((()=>[w("è¾“å‡ºæ ¼å¼")])),_:1}),b(d,{class:"format-group",onChange:s.onFormatChange},{default:g((()=>[(p(!0),k(I,null,C(l.outputFormats,(e=>(p(),u(c,{class:"format-item",key:e.value},{default:g((()=>[b(r,{value:e.value,checked:l.outputFormat===e.value},null,8,["value","checked"]),b(o,null,{default:g((()=>[w(T(e.label),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1},8,["onChange"])])),_:1}),b(n,{class:"spacing-settings"},{default:g((()=>[b(o,{class:"section-title"},{default:g((()=>[w("è¾¹è·å’Œé—´è·")])),_:1}),b(n,{class:"input-group"},{default:g((()=>[b(o,null,{default:g((()=>[w("å¤–è¾¹è· (px)")])),_:1}),b(H,{type:"number",modelValue:l.margin,"onUpdate:modelValue":t[0]||(t[0]=e=>l.margin=e),placeholder:"é»˜è®¤0"},null,8,["modelValue"])])),_:1}),b(n,{class:"input-group"},{default:g((()=>[b(o,null,{default:g((()=>[w("å›¾ç‰‡é—´è· (px)")])),_:1}),b(H,{type:"number",modelValue:l.spacing,"onUpdate:modelValue":t[1]||(t[1]=e=>l.spacing=e),placeholder:"é»˜è®¤0"},null,8,["modelValue"])])),_:1})])),_:1}),b(n,{class:"radius-setting"},{default:g((()=>[b(o,{class:"section-title"},{default:g((()=>[w("åœ†è§’ (px)")])),_:1}),b(V,{value:l.borderRadius,min:0,max:50,onChange:s.onRadiusChange,"show-value":""},null,8,["value","onChange"])])),_:1}),b(n,{class:"size-settings"},{default:g((()=>[b(o,{class:"section-title"},{default:g((()=>[w("è¾“å‡ºå°ºå¯¸")])),_:1}),b(n,{class:"keep-ratio"},{default:g((()=>[b(c,null,{default:g((()=>[b(z,{checked:l.keepRatio,onChange:s.onKeepRatioChange,color:"#007AFF"},null,8,["checked","onChange"]),b(o,null,{default:g((()=>[w("ä¿æŒåŸå§‹æ¯”ä¾‹")])),_:1})])),_:1})])),_:1}),b(n,{class:"input-group"},{default:g((()=>[b(o,null,{default:g((()=>[w("å®½åº¦ (px)")])),_:1}),b(H,{type:"number",modelValue:l.outputWidth,"onUpdate:modelValue":t[2]||(t[2]=e=>l.outputWidth=e),placeholder:s.defaultWidth,onInput:s.onWidthInput},null,8,["modelValue","placeholder","onInput"])])),_:1}),b(n,{class:"input-group"},{default:g((()=>[b(o,null,{default:g((()=>[w("é«˜åº¦ (px)")])),_:1}),b(H,{type:"number",modelValue:l.outputHeight,"onUpdate:modelValue":t[3]||(t[3]=e=>l.outputHeight=e),placeholder:s.defaultHeight,onInput:s.onHeightInput},null,8,["modelValue","placeholder","onInput"])])),_:1})])),_:1}),b(n,{class:"background-setting"},{default:g((()=>[b(o,{class:"section-title"},{default:g((()=>[w("èƒŒæ™¯é¢œè‰²")])),_:1}),b(n,{class:"default-colors"},{default:g((()=>[(p(!0),k(I,null,C(l.defaultColors,(e=>(p(),u(n,{key:e.value,class:m(["color-item",{active:l.backgroundColor===e.value}]),onClick:t=>s.selectColor(e.value)},{default:g((()=>[b(n,{class:"color-block",style:y({backgroundColor:e.value,border:"transparent"===e.value?"1px dashed #ddd":"none"})},null,8,["style"]),b(o,{class:"color-label"},{default:g((()=>[w(T(e.label),1)])),_:2},1024)])),_:2},1032,["class","onClick"])))),128))])),_:1}),b(n,{class:"color-picker"},{default:g((()=>[b(n,{class:"color-preview",style:y({backgroundColor:l.backgroundColor})},null,8,["style"]),b(H,{type:"color",modelValue:l.backgroundColor,"onUpdate:modelValue":t[4]||(t[4]=e=>l.backgroundColor=e),class:"color-input"},null,8,["modelValue"]),b(o,{class:"custom-color-label"},{default:g((()=>[w("è‡ªå®šé¢œè‰²")])),_:1})])),_:1})])),_:1}),b(O,{class:"primary-btn",onClick:s.mergeImages},{default:g((()=>[w("å¼€å§‹æ‹¼æ¥")])),_:1},8,["onClick"]),b(O,{class:"reset-btn",onClick:s.resetImages},{default:g((()=>[w("é‡æ–°é€‰æ‹©")])),_:1},8,["onClick"])])),_:1}),l.mergedPath?(p(),u(n,{key:0,class:"preview-box"},{default:g((()=>[b(o,{class:"preview-title"},{default:g((()=>[w("æ‹¼æ¥é¢„è§ˆ")])),_:1}),b(n,{class:"preview-image-container"},{default:g((()=>[_("img",{src:l.mergedPath,class:"preview-image",loading:"lazy",decoding:"async",onClick:t[5]||(t[5]=e=>s.previewImage(l.mergedPath)),onError:t[6]||(t[6]=(...e)=>s.onPreviewError&&s.onPreviewError(...e)),onLoad:t[7]||(t[7]=(...e)=>s.onPreviewLoad&&s.onPreviewLoad(...e))},null,40,["src"]),l.isPreviewLoading?(p(),u(n,{key:0,class:"preview-placeholder"},{default:g((()=>[b(o,null,{default:g((()=>[w("å›¾ç‰‡åŠ è½½ä¸­...")])),_:1})])),_:1})):v("",!0)])),_:1}),b(O,{class:"save-btn",onClick:s.saveImage},{default:g((()=>[w("ä¿å­˜å›¾ç‰‡")])),_:1},8,["onClick"])])),_:1})):v("",!0)],64)):v("",!0)])),_:1})])),_:1},8,["class"])}],["__scopeId","data-v-c6ff1792"]]);export{V as default};
